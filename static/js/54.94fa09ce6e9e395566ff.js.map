{"version":3,"sources":["webpack:///src/components/views/bankPlatform/mobileBanking/WriteOffRecord.vue","webpack:///./src/components/views/bankPlatform/mobileBanking/WriteOffRecord.vue?67d9","webpack:///./src/components/views/bankPlatform/mobileBanking/WriteOffRecord.vue"],"names":["WriteOffRecord","name","data","dialogVisible","dialogVisibleMsg","rules","required","message","type","queryMsg","code","formData","tableData","key","value","show","queryParam","totalRow","currentPage","pageSize","this","customGlobal","created","query_name","methods","handleSizeChange","val","handleCurrentChange","_this","that","_jsondata_","perPageSize","obj_bank_center_id","userInfoExt","cui_bank_center_id","obj_province_id","cui_province_id","obj_city_id","cui_city_id","obj_county_id","cui_county_id","obj_station_id","cui_station_id","loading","$loading","lock","text","target","spinner","background","postHttpClient","serverUrl","Write_off_delivery_flow_select","orgBaseURI","Content-Type","qs","stringify","jsondata","stringify_default","then","res","status","close","rows","forEach","mbs_out_trade_no","substring","length","$set","total","console","info","msg","$router","push","path","error","$alert","confirmButtonText","callback","action","catch","log","query_name1","formName","_this2","$refs","validate","valid","write_off_code","Verification_write_off_code","mbs_sale_status","mbs_sale_mode","mbmi_mer_name","query_name11","_this3","mbs_check_cui_id","cui_uuid","Commodity_code_input_write_off","handleClose","done","$confirm","_","sortColumn","column","orderFlag","order","sortOrderCol","prop","mobileBanking_WriteOffRecord","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","display","width","height","padding-left","margin","position","ref","attrs","model","label-width","label","maxlength","$$v","_n","expression","_v","margin-left","on","click","$event","border","tooltip-effect","row-style","cell-style","padding","header-cell-style","color","borderRight","line-height","sort-change","fixed","align","_l","item","index","show-overflow-tooltip","scopedSlots","_u","fn","scope","row","size","effect","_s","list","_e","toFixed","margin-top","current-page","page-sizes","page-size","layout","size-change","current-change","title","visible","before-close","update:visible","src","mbgi_goods_img_path","fit","mbgi_goods_name","mbgi_goods_describer","mbs_money_1","justify-content","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/54.94fa09ce6e9e395566ff.js","sourcesContent":["<!--交易记录-->\r\n<template>\r\n  <div class=\"TransactionRecord\">\r\n    <el-card>\r\n      <div style=\"display: flex; width: 100%;height: 50px;padding-left: 5px; margin: 10px 0 20px;\">\r\n\r\n        <!-- 核销码输入 -->\r\n        <div style=\"display: flex;width: 400px;position: relative;\">\r\n          <el-form :model=\"queryMsg\" ref=\"queryMsg\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n            <el-form-item label=\"核销码：\" prop=\"code\" :rules=\"rules\">\r\n              <el-input :maxlength=\"7\" v-model.number=\"queryMsg.code\" style=\"width: 275px;\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <!-- 查询、导出按钮 -->\r\n        <div style=\"height: 40px;margin-left:20px;\">\r\n          <el-button type=\"primary\" @click=\"query_name1('queryMsg')\">核销</el-button>\r\n        </div>\r\n      </div>\r\n      <!--  页面表格 start   -->\r\n      <el-table class=\"account-plat-fixed-right account-plat-fixed\" border ref=\"tableData\" :data=\"tableData\"\r\n        tooltip-effect=\"dark\" @sort-change=\"sortColumn\" :row-style=\"{'height':'10px'}\" :cell-style=\"{'padding':'5px 0px'}\"\r\n        :header-cell-style=\"{'background': '#4B86BC','color':'#ffffff','borderRight': '1px solid #E3E5EB' ,'padding':'0px','height':'45px','line-height':'45px' }\">\r\n        <el-table-column fixed align=\"center\" type=\"index\" label=\"序号\" width=\"50\">\r\n        </el-table-column>\r\n      \r\n        <el-table-column v-for=\"(item,index) in formData.tableData\" :key=\"index\" :prop=\"item.value\" :label=\"item.key\"\r\n          align=\"center\" show-overflow-tooltip>\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"item.identification\">\r\n              <el-tag v-if=\"scope.row[item.value]==='1'\" size=\"small\" effect=\"dark\" type=\"\">{{item.list[0]}}</el-tag>\r\n              <el-tag v-if=\"scope.row[item.value]==='2'\" size=\"small\" effect=\"dark\" type=\"warning\">{{item.list[1]}}\r\n              </el-tag>\r\n              <el-tag v-if=\"scope.row[item.value]==='3'\" size=\"small\" effect=\"dark\" type=\"success\">{{item.list[2]}}\r\n              </el-tag>\r\n            </div>\r\n            <div v-else-if=\"item.show\">\r\n              {{(scope.row[item.value]*1).toFixed(2)}}\r\n            </div>\r\n            <div v-else>\r\n              {{scope.row[item.value]}}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      \r\n      </el-table>\r\n      <!--  页面表格 end   -->\r\n      <!--page start-->\r\n      <el-pagination style=\"margin-top: 20px\" background @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\" :current-page=\"queryParam.currentPage\" :page-sizes=\"[10, 20, 50, 100,200]\"\r\n        :page-size=\"queryParam.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"queryParam.totalRow\">\r\n      </el-pagination>\r\n      <!--page end-->\r\n    </el-card>\r\n    <!--页面 end-->\r\n\r\n    <el-dialog title=\"详情\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"handleClose\">\r\n      <div>\r\n        <el-image style=\"width: 150px; height: 150px\" :src=\"dialogVisibleMsg.mbgi_goods_img_path\" fit=\"fill\"></el-image>\r\n        <div class='detailsCss'>商品名称：{{dialogVisibleMsg.mbgi_goods_name||''}}</div>\r\n        <div class='detailsCss'>规格：{{dialogVisibleMsg.mbgi_goods_describer}}</div>\r\n        <div class='detailsCss'>实付：{{dialogVisibleMsg.mbs_money_1}}</div>\r\n        <div class='detailsCss'>核销码：{{dialogVisibleMsg.code}}</div>\r\n        <div slot=\"footer\" style=\"width: 300px;display: flex;justify-content: space-between;margin: 20px auto 0;\">\r\n          <el-button @click=\"query_name11\" size=\"small\" type=\"primary\" style=\" width: 100px;\">核销</el-button>\r\n          <el-button @click=\"dialogVisible = false\" size=\"small\" type=\"primary\" style=\" width: 100px;\">取消</el-button>\r\n        </div>\r\n      </div>\r\n      <!-- <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\r\n      </span> -->\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"TransactionRecord\",\r\n    data() {\r\n      return {\r\n        dialogVisible: false,\r\n        dialogVisibleMsg: {},\r\n        rules: [\r\n          { required: true, message: '核销码不能为空' },\r\n          { type: 'number', message: '请输入7位纯数字核销码。' }\r\n        ],\r\n        queryMsg: {\r\n          code: '',\r\n        },\r\n        formData: {\r\n          tableData: [\r\n            { key: '订单号', value: 'mbs_out_trade_no' },\r\n            { key: '核销码', value: 'code' },\r\n            { key: '商品名称', value: 'mbgi_goods_name' },\r\n            { key: '规格', value: 'mbgi_goods_describer' },\r\n            { key: '商户名称', value: 'mbmi_mer_name' },\r\n            { key: '支付金额（元）', value: 'mbs_money_1',show:true },\r\n            { key: '核销人', value: 'cui_realname' },\r\n            { key: '核销时间', value: 'mbs_check_writetime' },\r\n          ]\r\n        },\r\n        tableData: [],\r\n        /** 查询参数 */\r\n        queryParam: {\r\n          totalRow: 0,\r\n          currentPage: 1,\r\n          pageSize: this.customGlobal.pageSize,\r\n        },\r\n      }\r\n    },\r\n    created() {\r\n      this.queryParam.currentPage = 1;\r\n      this.query_name();\r\n    },\r\n    methods: {\r\n      /**----分页方法-------start----*/\r\n      handleSizeChange(val) {\r\n        //  console.log(`每页 ${val} 条`);\r\n        this.queryParam.pageSize = val;\r\n        this.query_name();\r\n      },\r\n      handleCurrentChange(val) {\r\n        //  console.log(`当前页: ${val}`);\r\n        this.queryParam.currentPage = val;\r\n        this.query_name();\r\n      },\r\n      //查询\r\n      query_name() {\r\n        let that = this;\r\n        that.tableData = [];\r\n        let _jsondata_ = {\r\n          perPageSize: that.queryParam.pageSize,\r\n          currentPage: that.queryParam.currentPage,\r\n          obj_bank_center_id: that.customGlobal.userInfoExt.cui_bank_center_id,\r\n          obj_province_id: that.customGlobal.userInfoExt.cui_province_id,\r\n          obj_city_id: that.customGlobal.userInfoExt.cui_city_id,\r\n          obj_county_id: that.customGlobal.userInfoExt.cui_county_id,\r\n          obj_station_id: that.customGlobal.userInfoExt.cui_station_id,\r\n        };\r\n        const loading = this.$loading({\r\n          lock: true,\r\n          text: '提交中...',\r\n          target: '.main',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0)'\r\n        });\r\n        var a1 = this.customGlobal.postHttpClient(\r\n          this.customGlobal.serverUrl.Write_off_delivery_flow_select,\r\n          //this.customGlobal.serverUrl.baseURI,\r\n          this.customGlobal.serverUrl.orgBaseURI,\r\n          { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n          this.qs.stringify({ jsondata: JSON.stringify(_jsondata_) })\r\n        );\r\n        a1.then((res) => {\r\n          if (res.data.status === 'success') {\r\n            loading.close();\r\n            that.tableData = res.data.rows;\r\n            that.tableData.forEach(res => {\r\n              let code = '2' + res.mbs_out_trade_no.substring(res.mbs_out_trade_no.length - 6)\r\n              this.$set(res, \"code\", code);\r\n            });\r\n            that.queryParam.totalRow = res.data.total;\r\n          } else {\r\n            console.info(\"查询失败\");\r\n            loading.close();\r\n            if (res.data.msg === '请登录认证') {\r\n              this.$router.push({ path: '/login' });\r\n            }\r\n          }\r\n        }, error => {\r\n          loading.close();\r\n          // this.companyDialogFormVisible =false;//保存失败关闭dialog\r\n          this.$alert(JSON.stringify(error.message), '查询失败!', {\r\n            confirmButtonText: '确定',\r\n            callback: action => {\r\n\r\n            }\r\n          });\r\n        }).catch((res) => {\r\n          console.log(\"异步调用失败返回:\" + JSON.stringify(res));\r\n          loading.close();\r\n          // this.companyDialogFormVisible =false;//保存失败关闭dialog\r\n          this.$alert(JSON.stringify(res.message), '查询失败', {\r\n            confirmButtonText: '确定',\r\n            callback: action => {\r\n\r\n            }\r\n          });\r\n        });\r\n      },\r\n      //输码核销\r\n      query_name1(formName) {\r\n        let show = this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            if (this.queryMsg.code.length < 7) {\r\n              this.$alert('核销码错误，请输入正确核销码', '提示信息', {\r\n                confirmButtonText: '确定',\r\n                callback: action => { }\r\n              });\r\n              return\r\n            }\r\n            let that = this;\r\n            let _jsondata_ = {\r\n              perPageSize: '1',\r\n              currentPage: '1',\r\n              obj_bank_center_id: that.customGlobal.userInfoExt.cui_bank_center_id,\r\n              obj_province_id: that.customGlobal.userInfoExt.cui_province_id,\r\n              obj_city_id: that.customGlobal.userInfoExt.cui_city_id,\r\n              obj_county_id: that.customGlobal.userInfoExt.cui_county_id,\r\n              obj_station_id: that.customGlobal.userInfoExt.cui_station_id,\r\n              write_off_code: this.queryMsg.code,\r\n            };\r\n            const loading = this.$loading({\r\n              lock: true,\r\n              text: '提交中...',\r\n              target: '.main',\r\n              spinner: 'el-icon-loading',\r\n              background: 'rgba(0, 0, 0, 0)'\r\n            });\r\n            var a1 = this.customGlobal.postHttpClient(\r\n              this.customGlobal.serverUrl.Verification_write_off_code,\r\n              //this.customGlobal.serverUrl.baseURI,\r\n              this.customGlobal.serverUrl.orgBaseURI,\r\n              { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n              this.qs.stringify({ jsondata: JSON.stringify(_jsondata_) })\r\n            );\r\n            a1.then((res) => {\r\n              loading.close();\r\n              console.log('res.status==', res.data.status);\r\n              if (res.data.status == 'success') {\r\n                if (res.data.rows.length > 0) {\r\n                  let mbs_sale_status = res.data.rows[0].mbs_sale_status\r\n                  let mbs_sale_mode = res.data.rows[0].mbs_sale_mode\r\n                  if (res.data.rows[0].mbs_sale_mode == '3') {\r\n                    this.$alert('请到' + res.data.rows[0].mbmi_mer_name + '处核销', '提示信息', {\r\n                      confirmButtonText: '确定',\r\n                      callback: action => { }\r\n                    });\r\n                    return\r\n                  } else if (mbs_sale_status == '2' || mbs_sale_status == '6' || mbs_sale_status == '12') {\r\n                    this.dialogVisible = true\r\n                    this.dialogVisibleMsg = res.data.rows[0] ? res.data.rows[0] : {}\r\n                    if (this.dialogVisibleMsg.mbs_out_trade_no) {\r\n                      let code = '2' + this.dialogVisibleMsg.mbs_out_trade_no.substring(this.dialogVisibleMsg.mbs_out_trade_no.length - 6)\r\n                      this.$set(this.dialogVisibleMsg, \"code\", code);\r\n                    }\r\n                  } else if (mbs_sale_status == '3' || mbs_sale_status == '7') {\r\n                    this.$alert('该核销码已使用过', '提示信息', {\r\n                      confirmButtonText: '确定',\r\n                      callback: action => { }\r\n                    });\r\n                  }\r\n                } else {\r\n                  this.$alert('当前核销码不存在请重新输入', '提示信息', {\r\n                    confirmButtonText: '确定',\r\n                    callback: action => { }\r\n                  });\r\n                }\r\n              } else {\r\n\r\n              }\r\n              console.log(res, '-==-=')\r\n              // this.$alert(res.data.msg || '核销成功', '提示信息', {\r\n              //   confirmButtonText: '确定',\r\n              //   callback: action => {\r\n\r\n              //   }\r\n              // });\r\n              loading.close();\r\n              if (res.data.msg === '请登录认证') {\r\n                this.$router.push({ path: '/login' });\r\n              }\r\n\r\n            })\r\n              .catch(error => {\r\n                loading.close();\r\n                this.$alert('核销错误，请稍后再试', '提示信息', {\r\n                    confirmButtonText: '确定',\r\n                    callback: action => { }\r\n                  });\r\n              })\r\n          }\r\n        });\r\n      },\r\n      //输码核销\r\n      query_name11() {\r\n        if (this.queryMsg.code.length < 7) {\r\n          this.$alert('核销码错误，请输入正确核销码', '提示信息', {\r\n            confirmButtonText: '确定',\r\n            callback: action => { }\r\n          });\r\n          return\r\n        }\r\n\r\n        this.dialogVisible = false\r\n        let that = this;\r\n        let _jsondata_ = {\r\n          obj_bank_center_id: that.customGlobal.userInfoExt.cui_bank_center_id,\r\n          obj_province_id: that.customGlobal.userInfoExt.cui_province_id,\r\n          obj_city_id: that.customGlobal.userInfoExt.cui_city_id,\r\n          obj_county_id: that.customGlobal.userInfoExt.cui_county_id,\r\n          obj_station_id: that.customGlobal.userInfoExt.cui_station_id,\r\n          write_off_code: this.queryMsg.code,\r\n          mbs_check_cui_id: this.customGlobal.userInfoExt.cui_uuid,\r\n        };\r\n        const loading = this.$loading({\r\n          lock: true,\r\n          text: '提交中...',\r\n          target: '.main',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0)'\r\n        });\r\n        var a1 = this.customGlobal.postHttpClient(\r\n          this.customGlobal.serverUrl.Commodity_code_input_write_off,\r\n          //this.customGlobal.serverUrl.baseURI,\r\n          this.customGlobal.serverUrl.orgBaseURI,\r\n          { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n          this.qs.stringify({ jsondata: JSON.stringify(_jsondata_) })\r\n        );\r\n        a1.then((res) => {\r\n          this.$alert(res.data.msg || '核销成功', '提示信息', {\r\n            confirmButtonText: '确定',\r\n            callback: action => { }\r\n          });\r\n          this.query_name()\r\n          loading.close();\r\n          if (res.data.msg === '请登录认证') {\r\n            this.$router.push({ path: '/login' });\r\n          }\r\n\r\n        })\r\n      },\r\n      handleClose(done) {\r\n        this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            done();\r\n          })\r\n          .catch(_ => { });\r\n      },\r\n      /**  表格列排序设置   */\r\n      sortColumn(column) {\r\n        //  console.log(\"已经排序项：\" + JSON.stringify(column));\r\n        let orderFlag = '';\r\n        if (column.order != null) {\r\n          if (column.order === \"descending\") {\r\n            orderFlag = 'desc';\r\n          } else if (column.order === \"ascending\") {\r\n            orderFlag = 'asc';\r\n          }\r\n          //  console.info(\"属性名称：\"+ column.prop+\",排序方式：\"+column.order);\r\n\r\n          this.sortOrderCol = column.prop + \" \" + orderFlag;\r\n          //  console.info(\"用户选择排序列：\"+this.sortOrderCol);\r\n          // this.query_name();\r\n        } else {\r\n          this.sortOrderCol = '';\r\n        }\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .TransactionRecord /deep/ .el-range-separator {\r\n    padding: 0 5px;\r\n    line-height: 32px;\r\n    width: auto;\r\n    color: #303133;\r\n  }\r\n\r\n\r\n  .account-plat-formitem /deep/ .el-form-item {\r\n    margin-bottom: 3px !important;\r\n  }\r\n\r\n  .account-plat-card1 /deep/ .el-card__header {\r\n    /*background:#f5f5f5 !important;*/\r\n    background: #f2f3f8 !important;\r\n    /*height: 10px!important;*/\r\n    padding: 10px !important;\r\n  }\r\n\r\n  .account-plat-card2 /deep/ .el-card__body {\r\n    padding-top: 5px !important;\r\n    padding-bottom: 5px !important;\r\n    padding-left: 20px !important;\r\n    padding-right: 20px !important;\r\n  }\r\n\r\n  .account-plat-fixed-right /deep/ .el-table__fixed-right {\r\n    height: 100% !important;\r\n  }\r\n\r\n  .account-plat-fixed /deep/ .el-table__fixed {\r\n    height: 100% !important;\r\n  }\r\n\r\n  .box:after {\r\n    content: \".\";\r\n    clear: both;\r\n    height: 0;\r\n    overflow: hidden;\r\n    display: block;\r\n    visibility: hidden;\r\n  }\r\n\r\n  .detailsCss {\r\n    width: 200px;\r\n    margin: 5px auto;\r\n    text-align: left;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/views/bankPlatform/mobileBanking/WriteOffRecord.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"TransactionRecord\"},[_c('el-card',[_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\",\"height\":\"50px\",\"padding-left\":\"5px\",\"margin\":\"10px 0 20px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"400px\",\"position\":\"relative\"}},[_c('el-form',{ref:\"queryMsg\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.queryMsg,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"核销码：\",\"prop\":\"code\",\"rules\":_vm.rules}},[_c('el-input',{staticStyle:{\"width\":\"275px\"},attrs:{\"maxlength\":7},model:{value:(_vm.queryMsg.code),callback:function ($$v) {_vm.$set(_vm.queryMsg, \"code\", _vm._n($$v))},expression:\"queryMsg.code\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"40px\",\"margin-left\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.query_name1('queryMsg')}}},[_vm._v(\"核销\")])],1)]),_vm._v(\" \"),_c('el-table',{ref:\"tableData\",staticClass:\"account-plat-fixed-right account-plat-fixed\",attrs:{\"border\":\"\",\"data\":_vm.tableData,\"tooltip-effect\":\"dark\",\"row-style\":{'height':'10px'},\"cell-style\":{'padding':'5px 0px'},\"header-cell-style\":{'background': '#4B86BC','color':'#ffffff','borderRight': '1px solid #E3E5EB' ,'padding':'0px','height':'45px','line-height':'45px' }},on:{\"sort-change\":_vm.sortColumn}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_vm._l((_vm.formData.tableData),function(item,index){return _c('el-table-column',{key:index,attrs:{\"prop\":item.value,\"label\":item.key,\"align\":\"center\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(item.identification)?_c('div',[(scope.row[item.value]==='1')?_c('el-tag',{attrs:{\"size\":\"small\",\"effect\":\"dark\",\"type\":\"\"}},[_vm._v(_vm._s(item.list[0]))]):_vm._e(),_vm._v(\" \"),(scope.row[item.value]==='2')?_c('el-tag',{attrs:{\"size\":\"small\",\"effect\":\"dark\",\"type\":\"warning\"}},[_vm._v(_vm._s(item.list[1])+\"\\n            \")]):_vm._e(),_vm._v(\" \"),(scope.row[item.value]==='3')?_c('el-tag',{attrs:{\"size\":\"small\",\"effect\":\"dark\",\"type\":\"success\"}},[_vm._v(_vm._s(item.list[2])+\"\\n            \")]):_vm._e()],1):(item.show)?_c('div',[_vm._v(\"\\n            \"+_vm._s((scope.row[item.value]*1).toFixed(2))+\"\\n          \")]):_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row[item.value])+\"\\n          \")])]}}],null,true)})})],2),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"background\":\"\",\"current-page\":_vm.queryParam.currentPage,\"page-sizes\":[10, 20, 50, 100,200],\"page-size\":_vm.queryParam.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.queryParam.totalRow},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"详情\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',[_c('el-image',{staticStyle:{\"width\":\"150px\",\"height\":\"150px\"},attrs:{\"src\":_vm.dialogVisibleMsg.mbgi_goods_img_path,\"fit\":\"fill\"}}),_vm._v(\" \"),_c('div',{staticClass:\"detailsCss\"},[_vm._v(\"商品名称：\"+_vm._s(_vm.dialogVisibleMsg.mbgi_goods_name||''))]),_vm._v(\" \"),_c('div',{staticClass:\"detailsCss\"},[_vm._v(\"规格：\"+_vm._s(_vm.dialogVisibleMsg.mbgi_goods_describer))]),_vm._v(\" \"),_c('div',{staticClass:\"detailsCss\"},[_vm._v(\"实付：\"+_vm._s(_vm.dialogVisibleMsg.mbs_money_1))]),_vm._v(\" \"),_c('div',{staticClass:\"detailsCss\"},[_vm._v(\"核销码：\"+_vm._s(_vm.dialogVisibleMsg.code))]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"300px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"margin\":\"20px auto 0\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.query_name11}},[_vm._v(\"核销\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c6cb05b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/bankPlatform/mobileBanking/WriteOffRecord.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c6cb05b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WriteOffRecord.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WriteOffRecord.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WriteOffRecord.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c6cb05b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./WriteOffRecord.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c6cb05b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/bankPlatform/mobileBanking/WriteOffRecord.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}