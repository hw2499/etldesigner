webpackJsonp([28],{"9r6n":function(e,t){},dWrt:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("Xxa5"),n=i.n(o),a=i("exGp"),s=i.n(a),r=i("pFYg"),l=i.n(r),c=i("mvHQ"),u=i.n(c),d=i("YZ0n"),p=i("xM/h"),f=i.n(p),v=(i("q7au"),i("Js6h")),h=i("7t+N"),m=i.n(h),_=i("mtWM"),g=i.n(_);m()(document).ready(function(){m()("#btn_1").off().on("click",function(){v.a.openConfig()}),m()("#btn_2").off().on("click",function(){var e=m()("#input_1").val(),t=m()("#input_2").val();v.a.callAndroidDeviceReqShipMethod(e,"PAYMETHED_WECHAT","0.1",t)})});var b={name:"defaultIndex",components:{VueCropper:d.VueCropper},props:{pri_detail:{type:Object,default:function(){return{activityObj:{}}}}},computed:{scaleFun:function(){var e=this.scaleratioXY;return"transform:scale("+e+","+e+")"}},created:function(){console.info("活动对象："+u()(this.pri_detail.activityObj)),this._formatArray_()},watch:{money:function(e){this.keyboard.setInput(e)}},mounted:function(){var e=this;this.keyboard=new f.a(this.keyboardClass,{onChange:this.onChange,onKeyPress:this.onKeyPress}),this.setKeyboard(),window.customMethod=function(t){e.customMethod(t)}},data:function(){return{detail:[{vue:"未定义",icon:"el-icon-s-grid",caption:"机构管理",id:"2",detail:[{vue:"/views/bankPlatform/orgInfo/OrgInfoIndexBank.vue",icon:"el-icon-s-grid",caption:"基础信息管理",id:"M_B_20210524_104643074_105466694",isdel:"false",url:"/OrgInfoIndex.vue",status:"false",isbtn:"false",sortId:"1"}],isdel:"false",url:"未定义",status:"false",isbtn:"false",sortId:"10"},{vue:"未定义",icon:"el-icon-sunny",caption:"银行人员管理",id:"4",detail:[{vue:"/views/thermalManager/RoleInfoThermal.vue",icon:"el-icon-s-custom",caption:"银行角色",id:"M_B_20210524_104537189_108766024",isdel:"false",url:"./ThermalRole",status:"false",isbtn:"false",sortId:"1"},{vue:"/views/thermalManager/OrgTreeIndexForThermalUser.vue",icon:"el-icon-user",caption:"银行用户",id:"M_B_20210524_104537189_108766025",isdel:"false",url:"./ThermalUser",status:"false",isbtn:"false",sortId:"2"}],isdel:"false",url:"未定义",status:"false",isbtn:"false",sortId:"2"},{vue:"未定义",icon:"el-icon-picture-outline",caption:"客户权益馆",id:"M_B_20210924_182214502_105823259",detail:[{vue:"/views/bankPlatform/activityinfo/BankActivity.vue",icon:"el-icon-picture-outline",caption:"储蓄卡业务馆",id:"M_B_20210924_182355177_106296953",isdel:"true",url:"BankActivity.vue?act_id=ATP_2&flag=new",status:"false",isbtn:"false",sortId:"18"},{vue:"/views/bankPlatform/activityinfo/BankActivity.vue",icon:"el-icon-picture-outline",caption:"信用卡业务馆",id:"M_B_20211018_093507146_106928005",isdel:"true",url:"BankActivity.vue?act_id=ATP_1&flag=new",status:"false",isbtn:"false",sortId:"12"},{vue:"/views/bankPlatform/activityinfo/BankActivity.vue",icon:"el-icon-picture-outline",caption:"VIP业务馆",id:"M_B_20211018_093558954_104356283",isdel:"true",url:"BankActivity.vue?act_id=ATP_3&flag=new",status:"false",isbtn:"false",sortId:"3"}],isdel:"true",url:"未定义",status:"false",isbtn:"false",sortId:"3"},{vue:"未定义",icon:"el-icon-picture",caption:"商户管理",id:"M_B_20210930_194214590_102163430",detail:[{vue:"/views/bankPlatform/bankMerInfo/MoveIntoManagemen.vue",icon:"el-icon-picture",caption:"入驻管理",id:"M_B_20210930_194244782_104906437",isdel:"true",url:"/MoveIntoManagemen.vue",status:"false",isbtn:"false",sortId:"12"},{vue:"/views/bankPlatform/bankMerInfo/DefineMerchantIndustry.vue",icon:"el-icon-picture",caption:"定义商户行业",id:"M_B_20210930_194431948_106652684",isdel:"true",url:"/DefineMerchantIndustry.vue",status:"false",isbtn:"false",sortId:"2"},{vue:"/views/merchantManagement/index.vue",icon:"el-icon-picture-outline",caption:"内部商户管理",id:"M_B_20220128_101309040_108206793",isdel:"true",url:"/views/merchantManagement/index.vue",status:"false",isbtn:"false",sortId:"3"},{vue:"/views/externalMerchantManagement/index.vue",icon:"el-icon-picture-outline",caption:"外部商户管理",id:"M_B_20220128_101507157_102771124",isdel:"true",url:"/views/externalMerchantManagement/index.vue",status:"false",isbtn:"false",sortId:"14"},{vue:"/views/channelManagement/index.vue",icon:"el-icon-picture-outline",caption:"渠道管理",id:"M_B_20220128_101534965_104911440",isdel:"true",url:"/views/channelManagement/index.vue",status:"false",isbtn:"false",sortId:"5"}],isdel:"true",url:"未定义",status:"false",isbtn:"false",sortId:"4"},{vue:"未定义",icon:"el-icon-picture",caption:"抽奖活动",id:"M_B_20211116_200628574_109231668",detail:[{vue:"/views/bankPlatform/deviceIndex/SweepstakesActivities.vue",icon:"el-icon-picture",caption:"抽奖活动列表",id:"M_B_20211116_200706065_101093088",isdel:"true",url:"/SweepstakesActivities.vue",status:"false",isbtn:"false",sortId:"1"}],isdel:"true",url:"未定义",status:"false",isbtn:"false",sortId:"5"},{vue:"未定义",icon:"el-icon-picture",caption:"手机银行支付",id:"M_B_20211213_180356028_100338966",detail:[{vue:"/views/bankPlatform/mobileBanking/MerchantAndCommodity.vue",icon:"el-icon-picture",caption:"商户与商品管理",id:"M_B_20211213_180455711_109339620",isdel:"true",url:"MerchantAndCommodity.vue",status:"false",isbtn:"false",sortId:"1"},{vue:"/views/bankPlatform/mobileBanking/CommodityShelves.vue",icon:"el-icon-picture-outline",caption:"商品上架管理",id:"M_B_20211221_174036617_103581685",isdel:"true",url:"CommodityShelves.vue",status:"false",isbtn:"false",sortId:"20"},{vue:"/views/bankPlatform/mobileBanking/PreferentialCustomers.vue",icon:"el-icon-picture-outline",caption:"特惠购客户管理",id:"M_B_20211221_174200352_109944291",isdel:"true",url:"PreferentialCustomers.vue",status:"false",isbtn:"false",sortId:"3"},{vue:"/views/bankPlatform/mobileBanking/TransactionRecord.vue",icon:"el-icon-picture-outline",caption:"交易记录",id:"M_B_20211221_174241527_108192422",isdel:"true",url:"TransactionRecord.vue",status:"false",isbtn:"false",sortId:"14"},{vue:"/views/bankPlatform/mobileBanking/OutletGoods.vue",icon:"el-icon-picture-outline",caption:"网点商品管理",id:"M_B_20220128_094735684_106513403",isdel:"true",url:"OutletGoods.vue ",status:"false",isbtn:"false",sortId:"5"},{vue:"/views/bankPlatform/mobileBanking/CommoditySales_new.vue",icon:"el-icon-picture-outline",caption:"商品销售管理",id:"M_B_20220128_094816846_100247571",isdel:"true",url:"CommoditySales_new.vue",status:"false",isbtn:"false",sortId:"6"}],isdel:"true",url:"未定义",status:"false",isbtn:"false",sortId:"6"},{vue:"未定义",icon:"el-icon-picture-outline",caption:"首页广告",id:"M_B_20211230_135033330_106125018",detail:[{vue:"/views/bankPlatform/deviceIndex/equipment_picture.vue",icon:"el-icon-picture-outline",caption:"首页广告",id:"M_B_20211230_135121088_107275921",isdel:"true",url:"equipment_picture.vue",status:"false",isbtn:"false",sortId:"1"}],isdel:"true",url:"未定义",status:"false",isbtn:"false",sortId:"7"},{vue:"未定义",icon:"el-icon-picture-outline",caption:"业务看板",id:"M_B_20220112_143329588_100143408",detail:[{vue:"/views/bankPlatform/deviceIndex/BusinessKanban.vue",icon:"el-icon-picture-outline",caption:"业务看板",id:"M_B_20220112_143421931_104185959",isdel:"true",url:"BusinessKanban.vue",status:"false",isbtn:"false",sortId:"1"}],isdel:"true",url:"未定义",status:"false",isbtn:"false",sortId:"8"}],pic_item:[{id:"1",caption:"大米"},{id:"2",caption:"豆油"},{id:"3",caption:"啤酒"},{id:"4",caption:"优惠券"},{id:"5",caption:"购物卡"},{id:"6",caption:"VIP流量包"},{id:"7",caption:"50元话费"}],pic_item1:[[{id:"1",caption:"大米"},{id:"2",caption:"豆油"}],[{id:"3",caption:"啤酒"},{id:"4",caption:"优惠券"}],[{id:"5",caption:"购物卡"},{id:"6",caption:"VIP流量包"}],[{id:"7",caption:"50元话费"}]],money:"",keyboard:null,keyboardClass:"simple-keyboard",keyboardPosition:{top:"0",left:"0",width:"50%"},showKeyBoard:!1,options:{img:"",outputSize:1,outputType:"png | jpeg | jpg",full:!0,canMove:!0,canMoveBox:!0,original:!1,autoCrop:!0,autoCropWidth:230,autoCropHeight:150,fixedBox:!1,enlarge:1,centerBox:!1,fixed:!0,fixedNumber:[1.53,1],maxImgSize:2e3,mode:"contain",high:!0,infoTrue:!0,title:"图像裁剪",details:"选择图片，上传"},previews:{},previewsw:200,previewsh:200,imgsrc:"",scaleratioXY:1,dialogVisible:!1}},methods:{callJsonSort:function(){this.detail=this.jsonSort(this.detail),console.info("排序后：",this.detail),console.info("排序后："+u()(this.detail))},jsonSort:function(e){console.info("排序前：",e),e=this.sortKey(e,"sortId");for(var t=0;t<e.length;t++)e[t].hasOwnProperty("detail")?(e[t].detail=this.jsonSort(e[t].detail),console.info("递归排序：",e[t].detail)):(e=this.sortKey(e,"sortId"),console.info("json排序：",e));return e},sortKey:function(e,t){return e.sort(function(e,i){e.hasOwnProperty(t)||(e[t]=0),i.hasOwnProperty(t)||(i[t]=0);var o=parseInt(e[t]),n=parseInt(i[t]);return o<n?-1:o>n?1:0})},downloadIamge:function(e,t){var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0,i.width,i.height);var o=e.toDataURL("image/png"),n=document.createElement("a"),a=new MouseEvent("click");n.download=t||"photo",n.href=o,n.dispatchEvent(a)},i.src=e},playAudio:function(){var e=new Audio;e.src="http://192.168.3.83:38080/fr/imgserver/admin/mz.mp3",e.play()},customMethod:function(e){"1"===e&&this.$alert("提示","我是弹框",{confirmButtonText:"确定",callback:function(e){console.info("customMethos ok")}})},onChange:function(e){console.log("Input changed",e),this.money=e},onKeyPress:function(e){console.log("Button pressed",e),"{enter}"===e&&(this.showKeyBoard=!1),"{shift}"!==e&&"{lock}"!==e||this.handleShift()},handleShift:function(){var e="default"===this.keyboard.options.layoutName?"shift":"default";this.keyboard.setOptions({layoutName:e})},setKeyboard:function(){this.keyboard.setOptions({layoutName:"default",layout:{default:["1 2 3 4 5 6 7 8 9 0","Q W E R T Y U I O P","A S D F G H J K L {shift}","{bksp} Z X C V B N M {enter}"],shift:["http:// https:// / : . {shift}","1 2 3 4 5 6 7 8 9 0","q w e r t y u i o p","a s d f g h j k l","{bksp} z x c v b n m {enter}"]},buttonTheme:[{class:"bksp",buttons:"{bksp}"},{class:"enter",buttons:"{enter}"}],display:{"{bksp}":"删除","{enter}":"确认","{shift}":"shift"}})},getKeyBoardPosition:function(e){this.showKeyBoard=!0},hideKeyBoard:function(e){this.money="",this.showKeyBoard=!1},change:function(e,t){console.info("新值："+u()(e)+",旧值"+u()(t))},clickItem:function(e){alert(u()(e)),console.info("item:"+u()(e)),console.info("item.id:"+e.id),console.info("item.caption:"+e.caption)},_formatArray_:function(){this.pic_item1=this.formatArray(this.pic_item,3)},formatArray:function(e,t){for(var i=new Array(Math.ceil(e.length/t)),o=0;o<i.length;o++){i[o]=[];for(var n=0;n<t;n++)i[o][n]={}}for(o=0;o<e.length;o++)i[parseInt(o/t)][o%t]=e[o];return console.info("newArray:"+u()(i)),i},prev:function(e,t){t.preventDefault(),console.info(""+e),this.$refs.nop.prev()},next:function(e,t){t.preventDefault(),console.info(""+e),this.$refs.nop.next()},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(i){e(),t.onclose()}).catch(function(e){})},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},realTime:function(e){var t=this,i=e;this.$refs.cropper.getCropData(function(e){t.imgsrc=e,(i.w>=200||i.h>=200)&&(i.w>=i.h&&(t.scaleratioXY=200/i.w),i.h>i.w&&(t.scaleratioXY=200/i.h))})},uploadImg:function(e,t){var i=this,o=this,n=e.target.files[0];if(!/\.(jpg|jpeg|png|JPG|PNG)$/.test(e.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png中的一种"),!1;var a=new FileReader;a.onload=function(e){var n=void 0;n="object"===l()(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result])):e.target.result,1===t?o.options.img=n:2===t&&(i.example2.img=n)},a.readAsDataURL(n)},oncropped:function(e){var t=this;"blob"===e?this.$refs.cropper.getCropBlob(function(e){}):this.$refs.cropper.getCropData(function(e){""===t.options.img?alert("您还没有选择图片"):(t.uploadFileToServer(e),t.dialogVisible=!1,t.options.img="",t.imgsrc="")})},onOpen:function(){this.options.img="",this.imgsrc="",this.dialogVisible=!0},dataURItoBlob:function(e){var t=void 0;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var i=e.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(t.length),n=0;n<t.length;n++)o[n]=t.charCodeAt(n);return new Blob([o],{type:i})},uploadFileToServer:function(e){var t=this;return s()(n.a.mark(function i(){var o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:(o=new Image).src=e,o.onload=s()(n.a.mark(function i(){var o,a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o=t.dataURItoBlob(e),(a=new FormData).append("file",o,t.customGlobal.getFormatDateTimeString("3")+".png"),t.uploadFileRequest(a);case 4:case"end":return i.stop()}},i,t)}));case 3:case"end":return i.stop()}},i,t)}))()},uploadFileRequest:function(e){var t=this;return s()(n.a.mark(function i(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:g()({method:"post",url:t.customGlobal.serverUrl.orgBaseURI+"/fr/postCallPowerFileUpload?userid="+t.customGlobal.userInfoExt.cui_login_id+"&logic=2",data:e,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){console.info("progressEvent:"+u()(e))}}).then(function(e){console.info("response:"+u()(e)),"success"===e.data.status?console.info("上传成功："+e.data.rawfilename):console.info("上传失败")}).catch(function(e){console.log(e)});case 1:case"end":return i.stop()}},i,t)}))()}}},y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-button",{on:{click:function(t){return e.downloadIamge("https://go.borunxinke.com/fr/imgserver/admin/1642139312173.png","test1")}}},[e._v("下载")]),e._v("\n\n    "+e._s(this.customGlobal.getDateTimeToTimestamp("2021-11-15 17:35:49"))+"\n    "+e._s(this.customGlobal.getTimestampToDateTime(this.customGlobal.getDateTimeToTimestamp("2021-11-15 17:35:49")-423e6))+"\n    "),e._v("\n       货道号 "),i("el-input",{attrs:{type:"text",id:"input_1",value:"1"}}),e._v("\n       订单号 "),i("el-input",{attrs:{type:"text",id:"input_2",value:"11GL20220113150836683796"}}),e._v(" "),i("el-button",{attrs:{id:"btn_2"}},[e._v("出货")]),e._v(" "),i("el-button",{attrs:{id:"btn_3"},on:{click:e.callJsonSort}},[e._v("排序")]),e._v(" "),i("el-input",{attrs:{id:"input_phone",type:"text",placeholder:"Text input"},on:{focus:function(t){return e.getKeyBoardPosition(t)}},model:{value:e.money,callback:function(t){e.money=t},expression:"money"}}),e._v(" "),i("el-button",{on:{click:e.hideKeyBoard}},[e._v("关闭")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showKeyBoard,expression:"showKeyBoard"}],staticClass:"simple-keyboard"}),e._v(" "),i("el-carousel",{attrs:{autoplay:!1,interval:4e3,type:"card",height:"200px"},on:{change:e.change}},e._l(this.pic_item,function(t){return i("el-carousel-item",{key:t.id,attrs:{name:t.id,label:t.caption}},[i("div",{staticStyle:{border:"1px solid black",height:"100%","background-color":"#0D5788"}},[i("div",{staticStyle:{"font-size":"25px",color:"white"}},[e._v(e._s(t.caption))])])])}),1),e._v(" "),i("el-carousel",{ref:"nop",staticClass:"new-item1 new-item2 new-item4 new-item3",attrs:{_direction:"vertical",autoplay:!1,arrow:"always",height:"200px","indicator-position":"outside"}},e._l(this.pic_item1,function(t,o){return i("el-carousel-item",{key:o,staticStyle:{display:"flex",width:"100%",height:"100%"}},e._l(t,function(t,o){return i("div",{key:o,staticStyle:{border:"1px solid red",height:"100%",width:"50%"}},[i("v-touch",{staticStyle:{height:"100%"},on:{swipeleft:function(t){return e.next("",t)},swiperight:function(t){return e.prev("",t)}}},[i("div",{staticStyle:{border:"10px solid white",height:"100%"},on:{click:function(i){return e.clickItem(t)}}},[i("h3",[e._v(e._s(t.id))]),e._v(" "),i("h4",[e._v(e._s(t.caption))])])])],1)}),0)}),1),e._v(" "),i("el-button",{on:{click:function(t){return e.onOpen()}}},[e._v("上传照片")]),e._v(" "),i("el-button",{on:{click:function(t){return e.playAudio()}}},[e._v("play")]),e._v(" "),i("el-dialog",{attrs:{title:e.options.title,visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"el-cropper"},[i("div",[i("div",{staticClass:"cropper-content"},[i("div",{staticClass:"cropper"},[i("vueCropper",{ref:"cropper",attrs:{img:e.options.img,outputSize:e.options.outputSize,outputType:e.options.outputType,full:e.options.full,canMove:e.options.canMove,canMoveBox:e.options.canMoveBox,original:e.options.original,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox,enlarge:e.options.enlarge,centerBox:e.options.centerBox,fixedNumber:e.options.fixedNumber,fixed:e.options.fixed,maxImgSize:e.options.maxImgSize,mode:e.options.mode,infoTrue:e.options.infoTrue,high:e.options.high},on:{realTime:e.realTime}})],1),e._v(" "),i("div",{staticClass:"show-preview",style:{overflow:"hidden"}},[i("div",{staticClass:"wait"},[e._v("预览区域：")]),e._v(" "),i("div",{staticClass:"preview"},[i("img",{style:e.scaleFun,attrs:{src:e.imgsrc,alt:""}})])])])]),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("div",[i("label",{staticClass:"el-button el-button--default",attrs:{for:"uploads"}},[e._v("选择图片\n                        "),i("input",{staticStyle:{position:"absolute",clip:"rect(0 0 0 0)"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/jpg"},on:{change:function(t){return e.uploadImg(t,1)}}})])])]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",[i("el-button",{on:{click:e.rotateLeft}},[i("span",{staticStyle:{"font-weight":"600"}},[e._v("↺")])]),e._v(" "),i("el-button",{on:{click:e.rotateRight}},[i("span",{staticStyle:{"font-weight":"600"}},[e._v("↻")])])],1)]),e._v(" "),i("el-col",{attrs:{span:12}},[i("div",[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{on:{click:function(t){return e.oncropped("base64")}}},[e._v("确 定")])],1)])],1)],1)])])],1)},staticRenderFns:[]};var w=i("VU/8")(b,y,!1,function(e){i("ueqE"),i("9r6n")},"data-v-64677afa",null);t.default=w.exports},ueqE:function(e,t){}});
//# sourceMappingURL=28.1bf989ebd26ad4904c7d.js.map