webpackJsonp([56],{G2wI:function(e,i){},wClX:function(e,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=o("mvHQ"),n=o.n(t),l=o("fZjL"),s=o.n(l),r=o("BO1k"),a=o.n(r),c=o("ifoU"),d=o.n(c),m={name:"IconsConst",icons:[{id:"i_1",caption:"图库1",detail:["el-icon-platform-eleme","el-icon-eleme","el-icon-delete-solid","el-icon-delete","el-icon-s-tools","el-icon-setting","el-icon-user-solid","el-icon-user","el-icon-phone","el-icon-phone-outline","el-icon-more","el-icon-more-outline","el-icon-star-on","el-icon-star-off","el-icon-s-goods","el-icon-goods","el-icon-warning","el-icon-warning-outline","el-icon-question","el-icon-info","el-icon-remove","el-icon-circle-plus","el-icon-success","el-icon-error","el-icon-zoom-in","el-icon-zoom-out","el-icon-remove-outline","el-icon-circle-plus-outline","el-icon-circle-check","el-icon-circle-close","el-icon-s-help","el-icon-help","el-icon-minus","el-icon-plus","el-icon-check","el-icon-close","el-icon-picture","el-icon-picture-outline","el-icon-picture-outline-round","el-icon-upload","el-icon-upload2","el-icon-download","el-icon-camera-solid","el-icon-camera","el-icon-video-camera-solid","el-icon-video-camera","el-icon-message-solid","el-icon-bell","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-fold","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-custom","el-icon-s-opportunity","el-icon-s-data","el-icon-s-check","el-icon-s-grid","el-icon-menu"]},{id:"i_2",caption:"图库2",detail:["el-icon-share","el-icon-d-caret","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top","el-icon-bottom-left","el-icon-bottom-right","el-icon-back","el-icon-right","el-icon-bottom","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-arrow-left","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-up","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-video-pause","el-icon-video-play","el-icon-refresh","el-icon-refresh-right","el-icon-refresh-left","el-icon-finished","el-icon-sort","el-icon-sort-up","el-icon-sort-down","el-icon-rank"]},{id:"i_3",caption:"图库3",detail:["el-icon-loading","el-icon-view","el-icon-c-scale-to-original","el-icon-date","el-icon-edit","el-icon-edit-outline","el-icon-folder","el-icon-folder-opened","el-icon-folder-add","el-icon-folder-remove","el-icon-folder-delete","el-icon-folder-checked","el-icon-tickets","el-icon-document-remove","el-icon-document-delete","el-icon-document-copy","el-icon-document-checked","el-icon-document","el-icon-document-add","el-icon-printer","el-icon-paperclip","el-icon-takeaway-box","el-icon-search","el-icon-monitor","el-icon-attract","el-icon-mobile","el-icon-scissors","el-icon-umbrella","el-icon-headset","el-icon-brush","el-icon-mouse","el-icon-coordinate","el-icon-magic-stick","el-icon-reading","el-icon-data-line","el-icon-data-board","el-icon-pie-chart","el-icon-data-analysis","el-icon-collection-tag","el-icon-film","el-icon-suitcase","el-icon-suitcase-1","el-icon-receiving","el-icon-collection","el-icon-files","el-icon-notebook-1","el-icon-notebook-2","el-icon-toilet-paper","el-icon-office-building","el-icon-school","el-icon-table-lamp","el-icon-house","el-icon-no-smoking","el-icon-smoking","el-icon-shopping-cart-full","el-icon-shopping-cart-1","el-icon-shopping-cart-2","el-icon-shopping-bag-1","el-icon-shopping-bag-2","el-icon-sold-out","el-icon-sell","el-icon-present","el-icon-box","el-icon-bank-card","el-icon-money","el-icon-coin","el-icon-wallet","el-icon-discount","el-icon-price-tag","el-icon-news","el-icon-guide","el-icon-male","el-icon-female","el-icon-thumb","el-icon-cpu","el-icon-link","el-icon-connection","el-icon-open","el-icon-turn-off","el-icon-set-up","el-icon-chat-round","el-icon-chat-line-round","el-icon-chat-square","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-square","el-icon-message","el-icon-postcard","el-icon-position","el-icon-turn-off-microphone","el-icon-microphone","el-icon-close-notification","el-icon-bangzhu","el-icon-time","el-icon-odometer","el-icon-crop","el-icon-aim","el-icon-switch-button","el-icon-full-screen","el-icon-copy-document","el-icon-mic","el-icon-stopwatch","el-icon-medal-1","el-icon-medal","el-icon-trophy","el-icon-trophy-1","el-icon-first-aid-kit","el-icon-discover","el-icon-place","el-icon-location","el-icon-location-outline","el-icon-location-information","el-icon-add-location","el-icon-delete-location","el-icon-map-location","el-icon-alarm-clock","el-icon-timer","el-icon-watch-1","el-icon-watch","el-icon-lock","el-icon-unlock","el-icon-key","el-icon-service","el-icon-mobile-phone","el-icon-bicycle","el-icon-truck","el-icon-ship","el-icon-basketball","el-icon-football","el-icon-soccer","el-icon-baseball","el-icon-wind-power","el-icon-light-rain","el-icon-lightning","el-icon-heavy-rain","el-icon-sunrise","el-icon-sunrise-1","el-icon-sunset","el-icon-sunny","el-icon-cloudy","el-icon-partly-cloudy","el-icon-cloudy-and-sunny","el-icon-moon","el-icon-moon-night","el-icon-dish","el-icon-dish-1","el-icon-food","el-icon-chicken","el-icon-fork-spoon","el-icon-knife-fork","el-icon-burger","el-icon-tableware","el-icon-sugar","el-icon-dessert","el-icon-ice-cream","el-icon-hot-water","el-icon-water-cup","el-icon-coffee-cup","el-icon-cold-drink","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-refrigerator","el-icon-grape","el-icon-watermelon","el-icon-cherry","el-icon-apple","el-icon-pear","el-icon-orange","el-icon-coffee","el-icon-ice-tea","el-icon-ice-drink","el-icon-milk-tea","el-icon-potato-strips","el-icon-lollipop","el-icon-ice-cream-square","el-icon-ice-cream-round"]}]},p=o("VU/8")(m,null,!1,null,null,null).exports,u={name:"MenuManagerForSa",data:function(){return{icon1:"el-icon-d-arrow-left",iconActiveName:"i_1",searchTableData:"",tableData:[],tableDataClone:[],iconFrom:{iconVisible:!1,icons:p.icons},tableCheckedKeys:!1,multipleSelection:[],tableRowIdMap:new d.a,formLogic:{isbtn:!1},permissionType:"all",refreshTableData:(new Date).getTime(),tableDialgTitle:"",tableOperFlag:"",permissionFormVisible1:!1,permissionForm:{caption:"",vue:"",url:"",icon:"",id:"",oldId:"",flag:"",layer:"",isbtn:"false",isdel:"false",sortId:"0"},permissionFormRules:{caption:[{required:!0,message:"权限名称不可为空",validator:function(e,i,o){0===i.trim().length?o(new Error("权限名称不可为空")):o()},trigger:"blur"}],vue:[{required:!0,message:"VUE组件地址不可为空",validator:function(e,i,o){0===i.trim().length?o(new Error("VUE组件地址不可为空")):o()},trigger:"blur"}],url:[{required:!0,message:"权限地址不可为空",validator:function(e,i,o){0===i.trim().length?o(new Error("权限地址不可为空")):o()},trigger:"blur"}],icon:[{required:!0,message:"图标不可为空",validator:function(e,i,o){0===i.trim().length?o(new Error("图标不可为空")):o()},trigger:"blur"}],id:[{required:!0,message:"唯一ID不可为空",validator:function(e,i,o){0===i.trim().length?o(new Error("唯一ID不可为空")):o()},trigger:"blur"}],isbtn:[{required:!0,message:"风格不可为空",validator:function(e,i,o){0===i.trim().length?o(new Error("风格不可为空")):o()},trigger:"blur"}],isdel:[{required:!0,message:"删除标示不可为空",validator:function(e,i,o){0===i.trim().length?o(new Error("删除标示不可为空")):o()},trigger:"blur"}],sortId:[{required:!0,message:"必须录入正整数",validator:function(e,i,o){0===i.trim().length?o(new Error("不可为空")):/^\d+$/.test(i)?o():o(new Error("必须为正整数"))},trigger:"blur"}]}}},created:function(){this.initTableTreeData()},watch:{searchTableData:function(e,i){""===e?this.tableDataClone=this.tableData:(this.tableDataClone=this.likeFind(this.tableData,e,[]),this.refreshTableData=(new Date).getTime())}},methods:{selIcon:function(e){this.permissionForm.icon=e.currentTarget.id,this.iconFrom.iconVisible=!1},openIconSet:function(){this.iconActiveName="i_1",this.iconFrom.iconVisible=!0},likeFind:function(e,i,o){for(var t={},n=0;n<e.length;n++)e[n].caption.toString().indexOf(i)>-1?(console.info("找到内容"+i+","+e[n].caption),t=e[n],o.push(t)):void 0!=e[n].detail&&(console.info("detail:"+e[n].detail),t=this.likeFind(e[n].detail,i,o));return o},filterTag:function(e,i){return i.id===e},filterHandler:function(e,i,o){var t=o.property;return console.info("property:"+t),i[t]===e},initTableDataPermissionStatus:function(e,i){var o=this,t=!0,n=!1,l=void 0;try{for(var r,c=a()(s()(e));!(t=(r=c.next()).done);t=!0){var d=r.value;this.checkPermissionIdSuper(d,i,{},"0","5")}}catch(e){n=!0,l=e}finally{try{!t&&c.return&&c.return()}finally{if(n)throw l}}this.$nextTick(function(){o.initLoopCheckTable(i)})},postModifyPermisson:function(e,i,o,t){var l=this,s={flag:e,layer:i,targetData:o,currentId:t},r=this.$loading({lock:!0,text:"提交中...",target:".main",spinner:"el-icon-loading",background:"rgba(0, 0, 0, .7)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.postModifyPermissionTemplateForId,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:n()(s)})).then(function(e){console.log("异步调用成功返回:"+n()(e)),"success"==e.data.status?(r.close(),l.$message({type:"success",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<spand style="color:black;">'+e.data.msg+" </spand>"})):(console.info("保存失败"),r.close(),l.$alert(e.data.msg,"保存失败",{confirmButtonText:"确定",callback:function(i){console.info("data:"+n()(e.data)),"请登录认证"===e.data.msg&&l.$router.push({path:"/login"})}}))},function(e){console.log("异步调用出错:"+n()(e)),r.close(),l.$alert(n()(e.message),"保存出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(e){console.log("异步调用失败返回:"+n()(e)),r.close(),l.$alert(n()(e.message),"保存出错",{confirmButtonText:"确定",callback:function(e){}})})},initTableTreeData:function(){var e=this,i=this,o={config:this.permissionType},t=this.$loading({lock:!0,text:"查询中...",target:".main",spinner:"el-icon-loading",background:"rgba(0, 0, 0, .7)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.postQueryPermissionTemplate,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:n()(o)})).then(function(o){if(console.log("异步调用成功返回:"+n()(o)),"success"==o.data.status){t.close();var l=JSON.parse(o.data.permission);"all"===e.permissionType?i.tableData=[{caption:"银行用户菜单权限",vue:"",url:"",icon:"",id:"00-0",detail:l.heatconfig.permissionconfig.detail},{caption:"银行用户按钮权限",vue:"",url:"",icon:"",id:"00-1",detail:l.heatconfig.buttonconfig.detail},{caption:"平台用户菜单权限",vue:"",url:"",icon:"",id:"00-2",detail:l.platfromconfig.permissionconfig.detail},{caption:"平台用户按钮权限",vue:"",url:"",icon:"",id:"00-3",detail:l.platfromconfig.buttonconfig.detail}]:i.tableData=l.permissionconfig.detail,i.tableDataClone=i.tableData}else console.info("查询失败"),t.close(),i.tableData=[],e.$alert(o.data.msg,"查询失败",{confirmButtonText:"确定",callback:function(i){console.info("data:"+n()(o.data)),"请登录认证"===o.data.msg&&e.$router.push({path:"/login"})}})},function(o){console.log("异步调用出错:"+n()(o)),t.close(),i.tableData=[],e.$alert(n()(o.message),"查询出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(o){console.log("异步调用失败返回:"+n()(o)),t.close(),i.tableData=[],e.$alert(n()(o.message),"查询出错",{confirmButtonText:"确定",callback:function(e){}})})},cancelForm:function(e){this.permissionFormVisible1=!1,this.$refs[e].clearValidate()},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var i=this,o=this,t={caption:o.permissionForm.caption,id:o.permissionForm.id,vue:o.permissionForm.vue,url:o.permissionForm.url,icon:o.permissionForm.icon,status:"false",isdel:o.permissionForm.isdel,isbtn:o.permissionForm.isbtn,sortId:o.permissionForm.sortId};console.info("窗体元素："+n()(this.permissionForm)),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;console.info("valid:"+e),o.checkPermissionIdSuper(o.permissionForm.oldId,o.tableData,t,o.permissionForm.layer,o.permissionForm.flag),i.refreshTableData=(new Date).getTime(),o.permissionFormVisible1=!1;"all"===i.permissionType?"00-0"===i.tableData[0].id&&(console.info("银行用户菜单权限:"+n()(i.tableData[0].detail)),console.info("银行用户按钮权限:"+n()(i.tableData[1].detail)),i.tableData[0].detail,i.tableData[1].detail,i.tableData[2].detail,i.tableData[3].detail):"heatconfig"===i.permissionType?(console.info("银行用户权限:"+n()(i.tableData)),i.tableData):"platfromconfig"===i.permissionType&&(console.info("平台用户权限:"+n()(i.tableData)),i.tableData),i.postModifyPermisson(o.permissionForm.flag,o.permissionForm.layer,n()(t),o.permissionForm.oldId)})},checkPermissionIdSuper:function(e,i,o,t,l){console.info("checkPermissionIdSuper:"+i),console.info("查询选中ID:"+e);for(var s=!1,r=0;r<i.length;r++)if(console.info("当前id:"+i[r].id),"1"===l)if(i[r].id===e){if("1"===t){i.push(o),this.tableDataClone=this.tableData,console.info("add find ok"),s=!0;break}if("2"===t){if(i[r].hasOwnProperty("detail")){console.info("add 存在detail,直接追加:"+n()(i[r]));var a=i[r].detail;a.push(o),i[r].detail=a,this.tableDataClone=this.tableData,s=!0;break}var c=[];c.push(o),i[r].detail=c,console.info("add 不存在detail,新创建detail:"+n()(i[r].detail)),this.tableDataClone=this.tableData,s=!0;break}}else if(i[r].hasOwnProperty("detail")){if(console.info("add not find 递归查询detail"),!0===(s=this.checkPermissionIdSuper(e,i[r].detail,o,t,l)))break}else console.info("add not find"),s=!1;else if("2"===l){if(i[r].id===e){i[r].caption=o.caption,i[r].vue=o.vue,i[r].url=o.url,i[r].icon=o.icon,i[r].isbtn=o.isbtn,i[r].isdel=o.isdel,i[r].sortId=o.sortId,console.info("modify find ok"),this.tableDataClone=this.tableData,s=!0;break}if(i[r].hasOwnProperty("detail")){if(console.info("modify not find 递归查询detail"),!0===(s=this.checkPermissionIdSuper(e,i[r].detail,o,t,l)))break}else console.info("modify not find"),s=!1}else if("3"===l){if(i[r].id===e){i.splice(r,1),this.tableDataClone=this.tableData,console.info("del find ok"),s=!0;break}if(i[r].hasOwnProperty("detail")){if(console.info("del not find 递归查询detail"),!0===(s=this.checkPermissionIdSuper(e,i[r].detail,o,t,l)))break}else console.info("del not find"),s=!1}else if("4"===l){if(console.info("查询表格内容"),console.info("query find indexOf:"+i[r].caption.toLowerCase().indexOf(e.toLowerCase())),i[r].caption.toLowerCase().indexOf(e.toLowerCase())>-1){var d=[];d.push(i[r]),this.tableDataClone=d,console.info("query find ok."+i[r].caption),s=!0;break}if(i[r].hasOwnProperty("detail")){if(console.info("query not find 递归查询detail"),!0===(s=this.checkPermissionIdSuper(e,i[r].detail,o,t,l)))break}else console.info("query not find"),this.tableDataClone=[],s=!1}else if("5"===l){if(console.info("查询表格status内容"),console.info("query find status id:"+i[r].id),i[r].id===e){i[r].status="true",console.info("modify status find ok"),this.tableDataClone=this.tableData,console.info("query find status ok id:"+i[r].id),s=!0;break}if(i[r].hasOwnProperty("detail")){if(console.info("query status not find 递归查询detail"),!0===(s=this.checkPermissionIdSuper(e,i[r].detail,o,t,l)))break}else console.info("query status not find"),this.tableDataClone=[],s=!1}return s},initLoopCheckTable:function(e){for(var i=0;i<e.length;i++)console.info("initLoopCheckTable_i:"+i+",id:"+e[i].id+",status:"+e[i].status),"false"===e[i].status?(this.tableRowIdMap.delete(e[i].id),this.$refs.multipleTable.toggleRowSelection(e[i],!1)):"true"===e[i].status&&(this.tableRowIdMap.set(e[i].id,!0),this.$refs.multipleTable.toggleRowSelection(e[i],!0)),e[i].detail&&this.initLoopCheckTable(e[i].detail)},tableSelectAll:function(){this.tableCheckedKeys=!this.tableCheckedKeys,this.spliteTable(this.tableData,this.tableCheckedKeys);var e=this.$refs.multipleTable.selection;if(console.info("选择的行："+n()(e)),0===e.length)this.tableRowIdMap.clear();else for(var i=0;i<e.length;i++)this.tableRowIdMap.set(e[i].id,!0)},spliteTable:function(e,i){for(var o=0;o<e.length;o++)console.info("spliteTable_i:"+o),this.$refs.multipleTable.toggleRowSelection(e[o],i),e[o].status=i,!1===this.tableRowIdMap.has(e[o].id)?this.tableRowIdMap.set(e[o].id,!0):!0===this.tableRowIdMap.get(e[o].id)?this.tableRowIdMap.delete(e[o].id):this.tableRowIdMap.set(e[o].id,!0),e[o].detail&&this.spliteTable(e[o].detail,i);console.info("spliteTable_tableRowIdMap:"+n()(this.tableRowIdMap))},tableSingleSelect:function(e,i){!1===this.tableRowIdMap.has(i.id)?this.tableRowIdMap.set(i.id,!0):!0===this.tableRowIdMap.get(i.id)?this.tableRowIdMap.delete(i.id):this.tableRowIdMap.set(i.id,!0),console.info("tableRowIdMap:"+n()(this.tableRowIdMap)),console.info("tableSingleSelect_row:"+n()(i)),i.detail&&this.spliteTable(i.detail)},handleSelectionChange:function(e){this.multipleSelection=e,console.info("multipleSelection选择的行："+n()(this.multipleSelection))},handleSelectCurrent:function(e){console.info("handleSelectCurrent_row.id:"+e.id),"false"===e.status?e.status="true":"true"===e.status&&(e.status="false"),void 0!=e.detail&&this.spliteTable(e.detail),this.$refs.multipleTable.toggleRowSelection(e),!1===this.tableRowIdMap.has(e.id)?this.tableRowIdMap.set(e.id,!0):!0===this.tableRowIdMap.get(e.id)?this.tableRowIdMap.delete(e.id):this.tableRowIdMap.set(e.id,!0)},isSelect:function(e,i){return!0},handleAddRow:function(e,i){console.log("行号："+e+",行内容："+n()(i)),this.tableDialgTitle="新增权限点 ["+i.caption+"]",this.permissionForm.caption="",this.permissionForm.vue="",this.permissionForm.url="",this.permissionForm.icon="",this.permissionForm.oldId=i.id,this.permissionForm.id=this.customGlobal.genLogicNo("M_B"),this.permissionForm.flag="1",this.permissionForm.isbtn=i.isbtn,this.permissionForm.isdel="true",this.permissionForm.sortId="0",this.formLogic.isbtn=i.isbtn,"true"===this.formLogic.isbtn&&(this.permissionForm.vue="按钮",this.permissionForm.url="按钮",this.permissionForm.icon="按钮",this.permissionForm.layer="1"),this.permissionFormVisible1=!0},handleEditRow:function(e,i){console.log("行号："+e+",行内容："+n()(i)),this.tableDialgTitle="修改权限点 ["+i.caption+"]",this.permissionForm.oldId=i.id,this.permissionForm.caption=i.caption,this.permissionForm.vue=i.vue,this.permissionForm.url=i.url,this.permissionForm.icon=i.icon,void 0!==i.isbtn&&"true"!==i.isbtn||(this.permissionForm.icon="按钮",this.permissionForm.vue="按钮",this.permissionForm.url="按钮"),this.permissionForm.id=i.id,this.permissionForm.flag="2",this.permissionForm.layer="1",this.permissionForm.isbtn=i.isbtn,this.permissionForm.isdel=i.isdel,this.formLogic.isbtn=i.isbtn,i.hasOwnProperty("sortId")?this.permissionForm.sortId=i.sortId:this.permissionForm.sortId="0",this.permissionFormVisible1=!0},handleDeleteRow:function(e,i){var o=this;console.log("行号："+e+",行内容："+n()(i)),this.permissionForm.oldId=i.id,this.permissionForm.caption=i.caption,this.permissionForm.vue=i.vue,this.permissionForm.url=i.url,this.permissionForm.icon=i.icon,this.permissionForm.id=i.id,this.permissionForm.flag="3",this.permissionForm.layer="1",this.permissionForm.isbtn=i.isbtn,this.permissionForm.isdel=i.isdel,this.permissionForm.sortId=i.sortId,this.$confirm('请再次确认是否要删除[<span style="color:red;">'+i.caption+"</span>]该行记录?","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then(function(){var e={caption:o.permissionForm.caption,id:o.permissionForm.id,vue:o.permissionForm.vue,url:o.permissionForm.url,icon:o.permissionForm.icon,status:"false",isbtn:o.permissionForm.isbtn,isdel:o.permissionForm.isdel,sortId:o.permissionForm.sortId};o.checkPermissionIdSuper(o.permissionForm.oldId,o.tableData,e,o.permissionForm.layer,o.permissionForm.flag),o.refreshTableData=(new Date).getTime(),o.postModifyPermisson(o.permissionForm.flag,o.permissionForm.layer,n()(e),o.permissionForm.oldId)}).catch(function(){o.$message({type:"info",message:"已取消删除"})})},showMessage:function(){var e=this,i=this.customGlobal.mapToJson(this.tableRowIdMap);this.$message({type:"info",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<spand style="color:black;"> 已经选择的ID：'+i+"</spand>"});var o=this.$loading({lock:!0,text:"提交中...",target:".main",spinner:"el-icon-loading",background:"rgba(0, 0, 0, .7)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.postModifyUserOrgAndPermissionKey,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:n()({username:"u2",permissionkey:i})})).then(function(i){console.log("异步调用成功返回:"+n()(i)),"success"==i.data.status?(o.close(),e.$message({type:"success",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<spand style="color:black;"> 保存成功 </spand>'})):(console.info("保存失败"),o.close(),e.$alert(i.data.msg,"保存失败",{confirmButtonText:"确定",callback:function(o){console.info("data:"+n()(i.data)),"请登录认证"===i.data.msg&&e.$router.push({path:"/login"})}}))},function(i){console.log("异步调用出错:"+n()(i)),o.close(),e.$alert(n()(i.message),"保存出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(i){console.log("异步调用失败返回:"+n()(i)),o.close(),e.$alert(n()(i.message),"保存出错",{confirmButtonText:"确定",callback:function(e){}})})},showMessage2:function(){this.tableRowIdMap.forEach(function(e,i){console.log(i+": "+e)})}}},f={render:function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("div",{staticClass:"new-tablefilter "},[o("el-card",{staticClass:"new-card11 new-card22",attrs:{shadow:"always"}},[o("el-row",{staticStyle:{height:"100%"}},[o("el-col",{attrs:{span:24}},[o("el-input",{attrs:{placeholder:"输入权限名称关键字进行搜索,清空内容显示所有数据"},model:{value:e.searchTableData,callback:function(i){e.searchTableData=i},expression:"searchTableData"}}),e._v(" "),o("el-table",{key:e.refreshTableData,ref:"multipleTable",staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableDataClone,"row-key":"id",border:"","default-expand-all":"","header-cell-style":{background:"#4B86BC",color:"#ffffff",borderRight:"1px solid #E3E5EB",padding:"0px",height:"45px","line-height":"45px"},"tree-props":{children:"detail",hasChildren:"hasChildren"}}},[o("el-table-column",{attrs:{"header-align":"center",prop:"caption",label:"权限名称",width:"180",filters:[{text:"银行用户菜单权限",value:"00-0"},{text:"银行用户按钮权限",value:"00-1"},{text:"平台用户菜单权限",value:"00-2"},{text:"平台用户按钮权限",value:"00-3"}],"filter-method":e.filterTag}}),e._v(" "),o("el-table-column",{attrs:{"header-align":"center",prop:"id",label:"ID",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{"header-align":"center",prop:"vue",label:"组件地址",width:"250"}}),e._v(" "),o("el-table-column",{attrs:{"header-align":"center",prop:"url",label:"权限地址",width:"250"}}),e._v(" "),o("el-table-column",{attrs:{"header-align":"center",prop:"icon",label:"图标",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("i",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.row.icon,expression:"scope.row.icon!==undefined"}],class:e.row.icon,staticStyle:{"font-size":"20px"}})]}}])}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),o("el-table-column",{attrs:{"header-align":"center",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(i){return[o("el-tooltip",{attrs:{effect:"dark",content:"新增",placement:"top"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:"00-0"!==i.row.id&&"00-1"!==i.row.id&&"00-2"!==i.row.id&&"00-3"!==i.row.id,expression:"scope.row.id!=='00-0' && scope.row.id!=='00-1' && scope.row.id!=='00-2' && scope.row.id!=='00-3'"}],attrs:{type:"primary",icon:"el-icon-document-add",circle:"",size:"mini"},nativeOn:{click:function(o){return o.stopPropagation(),e.handleAddRow(i.$index,i.row)}}})],1),e._v(" "),o("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:"00-0"!==i.row.id&&"00-1"!==i.row.id&&"00-2"!==i.row.id&&"00-3"!==i.row.id,expression:"scope.row.id!=='00-0' && scope.row.id!=='00-1' && scope.row.id!=='00-2' && scope.row.id!=='00-3'"}],attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},nativeOn:{click:function(o){return o.stopPropagation(),e.handleEditRow(i.$index,i.row)}}})],1),e._v(" "),o("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:"00-0"!==i.row.id&&"00-1"!==i.row.id&&"00-2"!==i.row.id&&"00-3"!==i.row.id&&"true"===i.row.isdel,expression:"scope.row.id!=='00-0' && scope.row.id!=='00-1' && scope.row.id!=='00-2' && scope.row.id!=='00-3' && scope.row.isdel==='true'"}],attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},nativeOn:{click:function(o){return o.stopPropagation(),e.handleDeleteRow(i.$index,i.row)}}})],1)]}}])})],1)],1)],1)],1),e._v(" "),o("el-dialog",{attrs:{visible:e.permissionFormVisible1,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(i){e.permissionFormVisible1=i}}},[o("div",{staticStyle:{"text-align":"left","font-size":"20px","font-weight":"bold"},attrs:{slot:"title"},slot:"title"},[o("span",[e._v(e._s(this.tableDialgTitle))])]),e._v(" "),o("el-form",{ref:"permissionForm",staticStyle:{"text-align":"left","font-size":"20px","font-weight":"bold"},attrs:{"label-position":"left",model:e.permissionForm,rules:e.permissionFormRules,"label-width":"130px"}},[o("el-form-item",{attrs:{label:"权限名称",prop:"caption",rules:this.permissionFormRules.caption}},[o("el-input",{model:{value:e.permissionForm.caption,callback:function(i){e.$set(e.permissionForm,"caption",i)},expression:"permissionForm.caption"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"true"!==this.formLogic.isbtn,expression:"(this.formLogic.isbtn==='true')?false:true"}],attrs:{label:"组件地址",prop:"vue",rules:this.permissionFormRules.vue}},[o("el-input",{attrs:{readonly:"true"===this.formLogic.isbtn,disabled:"true"===this.formLogic.isbtn},model:{value:e.permissionForm.vue,callback:function(i){e.$set(e.permissionForm,"vue",i)},expression:"permissionForm.vue"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"true"!==this.formLogic.isbtn,expression:"(this.formLogic.isbtn==='true')?false:true"}],attrs:{label:"权限地址",prop:"url",rules:this.permissionFormRules.url}},[o("el-input",{attrs:{readonly:"true"===this.formLogic.isbtn,disabled:"true"===this.formLogic.isbtn},model:{value:e.permissionForm.url,callback:function(i){e.$set(e.permissionForm,"url",i)},expression:"permissionForm.url"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"true"!==this.formLogic.isbtn,expression:"(this.formLogic.isbtn==='true')?false:true"}],attrs:{label:"图标",prop:"icon",rules:this.permissionFormRules.icon}},[o("el-input",{attrs:{readonly:!0,disabled:!0},model:{value:e.permissionForm.icon,callback:function(i){e.$set(e.permissionForm,"icon",i)},expression:"permissionForm.icon"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-s-grid"},nativeOn:{click:function(i){return i.preventDefault(),e.openIconSet(i)}},slot:"append"})],1)],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{"_v-show":"(this.formLogic.isbtn==='true')?false:true",label:"flag",prop:"flag",rules:this.permissionFormRules.flag}},[o("el-input",{attrs:{readonly:!0,disabled:!0},model:{value:e.permissionForm.flag,callback:function(i){e.$set(e.permissionForm,"flag",i)},expression:"permissionForm.flag"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"true"!==this.formLogic.isbtn,expression:"(this.formLogic.isbtn==='true')?false:true"}],attrs:{"_v-show":"permissionForm.flag==='1' || permissionForm.flag==='2'",label:"层级",prop:"layer",placeholder:"请选择"}},[o("el-select",{model:{value:e.permissionForm.layer,callback:function(i){e.$set(e.permissionForm,"layer",i)},expression:"permissionForm.layer"}},[o("el-option",{attrs:{label:"同级",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"子级",value:"2"}})],1)],1),e._v(" "),o("el-form-item",{staticStyle:{display:"none"},attrs:{label:"ID",prop:"id",rules:this.permissionFormRules.id}},[o("el-input",{attrs:{readonly:"",disabled:""},model:{value:e.permissionForm.id,callback:function(i){e.$set(e.permissionForm,"id",i)},expression:"permissionForm.id"}})],1),e._v(" "),o("el-form-item",{staticStyle:{display:"none"},attrs:{"_v-show":"permissionForm.isbtn==='false' || permissionForm.isbtn==='true'",label:"风格",prop:"isbtn",placeholder:"请选择"}},[o("el-select",{attrs:{disabled:!0},model:{value:e.permissionForm.isbtn,callback:function(i){e.$set(e.permissionForm,"isbtn",i)},expression:"permissionForm.isbtn"}},[o("el-option",{attrs:{label:"菜单",value:"false"}}),e._v(" "),o("el-option",{attrs:{label:"按钮",value:"true"}})],1)],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"false"===e.permissionForm.isdel||"true"===e.permissionForm.isdel,expression:"permissionForm.isdel==='false' || permissionForm.isdel==='true'"}],attrs:{label:"删除标示",prop:"isdel",placeholder:"请选择"}},[o("el-select",{model:{value:e.permissionForm.isdel,callback:function(i){e.$set(e.permissionForm,"isdel",i)},expression:"permissionForm.isdel"}},[o("el-option",{attrs:{label:"不允许删除",value:"false"}}),e._v(" "),o("el-option",{attrs:{label:"允许删除",value:"true"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"sort",prop:"sortId",rules:this.permissionFormRules.sortId}},[o("el-input",{model:{value:e.permissionForm.sortId,callback:function(i){e.$set(e.permissionForm,"sortId",i)},expression:"permissionForm.sortId"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(i){return e.resetForm("permissionForm")}}},[e._v("重 置")]),e._v(" "),o("el-button",{on:{click:function(i){return e.cancelForm("permissionForm")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.submitForm("permissionForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{staticClass:"new-dialog ",attrs:{visible:e.iconFrom.iconVisible,"close-on-press-escape":!0,"close-on-click-modal":!0,"show-close":!0},on:{"update:visible":function(i){return e.$set(e.iconFrom,"iconVisible",i)}}},[o("div",{staticClass:"new-scroll1",staticStyle:{"min-height":"400px","margin-left":"0px","margin-top":"20px","margin-bottom":"0px",padding:"0px"}},[o("el-tabs",{staticStyle:{width:"100%","min-height":"400px"},attrs:{type:"border-card","tab-position":"top"},model:{value:e.iconActiveName,callback:function(i){e.iconActiveName=i},expression:"iconActiveName"}},e._l(e.iconFrom.icons,function(i,t){return o("el-tab-pane",{key:i.id,staticStyle:{width:"100%",height:"400px"},attrs:{label:i.caption,name:i.id}},[o("el-scrollbar",{staticStyle:{height:"400px","max-height":"400px"}},[o("div",{staticClass:"row",staticStyle:{}},e._l(i.detail,function(i){return o("div",{staticClass:"row_item"},[o("el-button",{class:i,staticStyle:{"font-size":"30px",padding:"5px"},attrs:{id:i},on:{click:function(i){return e.selIcon(i)}}})],1)}),0)])],1)}),1)],1)])],1)},staticRenderFns:[]};var h=o("VU/8")(u,f,!1,function(e){o("G2wI")},"data-v-45a1a648",null);i.default=h.exports}});
//# sourceMappingURL=56.7cc28733a5ceb8295092.js.map