webpackJsonp([3,37,48],{"0U5S":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("o4Bu"),l=a("BFIl"),n={data:function(){return{activeName:"first",activeIndex:"1"}},components:{toBeReviewed:i.default,Approved:l.default},methods:{handleClick:function(e,t){console.log(e,t)},handleSelect:function(e,t){switch(this.activeIndex=e,e){case"1":this.$refs.toBeReviewedClick.Select_industry(),this.$refs.toBeReviewedClick.bank_commodity();break;case"2":this.$refs.ApprovedClick.getData()}}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-menu",{staticClass:"el-menu-demo",style:{height:"60px"},attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[a("el-menu-item",{staticStyle:{margin:"0 10px"},attrs:{index:"1"}},[e._v("审核通过")])],1),e._v(" "),a("div",{staticStyle:{width:"98%",margin:"0 auto"}},[1==e.activeIndex?a("toBeReviewed",{ref:"toBeReviewedClick",staticStyle:{"margin-top":"10px"}}):e._e(),e._v(" "),2==e.activeIndex?a("Approved",{ref:"ApprovedClick",staticStyle:{"margin-top":"10px"}}):e._e()],1)],1)},staticRenderFns:[]},s=a("VU/8")(n,o,!1,null,null,null);t.default=s.exports},"4+gj":function(e,t){},BFIl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wxq9"),l={data:function(){return{regionData:i.regionData,selectedOptions:[],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],ruleForm:{name:"",startTime:"",endTime:"",bms_address:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]},data:[{id:1,label:"一级 2",children:[{id:3,label:"二级 2-1",children:[{id:4,label:"三级 3-1-1"},{id:5,label:"三级 3-1-2"}]},{id:2,label:"二级 2-2",children:[{id:6,label:"三级 3-2-1"},{id:7,label:"三级 3-2-2"}]}]}],defaultProps:{children:"children",label:"label"},show3:!1,checkAll:!1,checkedCities:["上海","北京"],isIndeterminate:!0,tableMsg:[{key:"date",name:"序号"},{key:"date",name:"商户名称"},{key:"date",name:"所属行业"},{key:"date",name:"满减券推广"},{key:"date",name:"抽奖优惠券"},{key:"date",name:"商品推广"},{key:"date",name:"代金券推广"}],functionMsg:{name:"xxxxx",dialogVisible:!1,msg:[{radio:"1",name:"满减券推广"},{radio:"1",name:"抽奖优惠券"},{radio:"1",name:"商品推广"},{radio:"1",name:"代金券推广"}]},serviceChargeMsg:{name:"xxxxxx",accountNumber:"xxxxxx",dialogVisible:!1,msg:[{name:"设备",key:"date"},{name:"网点内设备编号",key:"date"}]},merchantInformation:{name:"xxxxxx",accountNumber:"xxxxxx",dialogVisible:!1,value:"",value1:[],msg:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]},franchiseOutlets:{name:"xxxxxx",dialogVisible:!1,msg:[{value:"中国银行长春分行",label:[{value:"中国银行长春分行",label:[]}]},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]},newlyAdded:{name:"xxxxxx",accountNumber:"xxxxxx",dialogVisible:!1,value:"",value1:[],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]},StateManagement:{radio:"1",dialogVisible:!1,dialogVisible1:!1},headerStyle:{background:"#4B86BC",color:"#ffffff",borderRight:"1px solid #E3E5EB",padding:"0px",height:"45px","line-height":"45px"},tableData:[{index:1,date:"2016-05-02",name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333}]}},created:function(){},methods:{handleNodeClick:function(e,t){console.log(e,t)},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},handleSizeChange:function(e){this.queryParam.pageSize=e,this.queryValveCurrentData()},handleCurrentChange:function(e){this.queryParam.currentPage=e,this.queryValveCurrentData()}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"new-table-fixed-right new-table-fixed",attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","row-style":{height:"10px"},"cell-style":{padding:"5px 0px"},"header-cell-style":e.headerStyle}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"120"}}),e._v(" "),e._l(e.tableMsg,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.key,label:e.name}})}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.functionMsg.dialogVisible=!0}}},[e._v("功能开通")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.serviceChargeMsg.dialogVisible=!0}}},[e._v("服务费管理")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.merchantInformation.dialogVisible=!0}}},[e._v("商户信息")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.franchiseOutlets.dialogVisible=!0}}},[e._v("加盟网点查看")])]}}])})],2),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","current-page":1,"page-sizes":[10,20,50,100,200],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:10},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"功能开通",visible:e.functionMsg.dialogVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.functionMsg,"dialogVisible",t)}}},[a("div",[a("div",{staticStyle:{width:"100%","text-align":"left","margin-bottom":"10px"}},[e._v("商户名称："+e._s(e.functionMsg.name))]),e._v(" "),e._l(e.functionMsg.msg,function(t,i){return a("div",{key:i,staticStyle:{"margin-bottom":"10px",display:"flex"}},[a("div",{staticStyle:{width:"100px","text-align":"left"}},[e._v(e._s(t.name)+"：")]),e._v(" "),a("div",[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"item.radio"}},[e._v("开通")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"item.radio"}},[e._v("关闭")])],1)])})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.functionMsg.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.functionMsg.dialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"服务费管理",visible:e.serviceChargeMsg.dialogVisible,width:"80%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.serviceChargeMsg,"dialogVisible",t)}}},[a("div",[a("div",{staticStyle:{width:"100%","text-align":"left","margin-bottom":"10px"}},[e._v("商户名称："+e._s(e.serviceChargeMsg.name))]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left","margin-bottom":"10px"}},[e._v("收款账号："+e._s(e.serviceChargeMsg.accountNumber))]),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"new-table-fixed-right new-table-fixed",attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","row-style":{height:"10px"},"cell-style":{padding:"5px 0px"},"header-cell-style":e.headerStyle}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"80"}}),e._v(" "),e._l(e.serviceChargeMsg.msg,function(e,t){return a("el-table-column",{key:t,attrs:{label:e.name}})}),e._v(" "),a("el-table-column",{attrs:{label:"平台服务费"}},[a("div",[e._v("每笔交易额\n            "),a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请输入百分比交易额"}}),e._v("%\n          ")],1)]),e._v(" "),a("el-table-column",{attrs:{label:"设备服务费"}},[a("div",[e._v("每笔交易额\n            "),a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请输入百分比交易额"}}),e._v("%\n          ")],1)]),e._v(" "),a("el-table-column",{attrs:{label:"渠道服务费"}},[a("div",[e._v("渠道商名称：xxxxxxxxxxxx")]),e._v(" "),a("div",[e._v("每笔交易额\n            "),a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请输入百分比交易额"}}),e._v("%\n          ")],1)])],2)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.serviceChargeMsg.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.serviceChargeMsg.dialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"商户信息",visible:e.merchantInformation.dialogVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.merchantInformation,"dialogVisible",t)}}},[a("div",[a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("商户名称：xxxxxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("商户简称：xxxxxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("统一社会信用代码：xxxxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("所属行业：xxxxxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("每周营业日：xxxxxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("营业时间段：xxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("所在区域：xxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("详细地址：xxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("商户登录名(手机号)：xxxxxxxxx")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("银联子商户号：xxxxxxxxx")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.merchantInformation.dialogVisible=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"加盟网点",visible:e.franchiseOutlets.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.franchiseOutlets,"dialogVisible",t)}}},[a("div",[a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("商户名称：xxxxxxxxxxxx")]),e._v(" "),a("el-tree",{attrs:{data:e.data,"show-checkbox":"","node-key":"id","default-expanded-keys":[2,3],"default-checked-keys":[5]},on:{check:e.handleNodeClick}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.franchiseOutlets.dialogVisible=!1}}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.franchiseOutlets.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{display:"flex","justify-content":"space-between",height:"40px"}},[t("div",[this._v("审核通过列表")])])}]};var o=a("VU/8")(l,n,!1,function(e){a("D6EE")},"data-v-582bd26f",null);t.default=o.exports},D6EE:function(e,t){},o4Bu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n={data:function(){return{msgData:[],ruleForm:{bmp_name:"",bmp_mid:"",bmp_login_id:"",bmp_passwd:"123456",bmp_phone:"",bmp_contacts:""},merchantInformation:{dataMsg:[],obj:[],name:"xxxxxx",accountNumber:"xxxxxx",dialogVisible:!1,value:"",value1:[],msg:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]},rules:{bmp_name:[{pattern:/^[\u4E00-\u9FA5A-Za-z0-9]*$/,message:"商户名称不可输入空格、特殊符号",trigger:"blur"},{required:!0,message:"请输入商户名称",trigger:"blur"}],bmp_mid:[{pattern:/^[A-Za-z0-9]{15}$/,message:"请输入银联子商户号（15位）",trigger:"blur"},{required:!0,message:"请输入银联子商户号",trigger:"blur"}],bmp_login_id:[{pattern:/^[0-9]{11}$/,message:"请输入手机号码",trigger:"blur"},{required:!0,message:"请输入商户登录名",trigger:"blur"},{min:11,max:11,message:"长度在 11 个字符",trigger:"blur"}],bmp_passwd:[{required:!0,message:"请输入商户初始密码",trigger:"blur"}],bmp_phone:[{pattern:/^[0-9]{11}$/,message:"请输入手机号码",trigger:"blur"},{required:!0,message:"请输入联系电话",trigger:"blur"},{min:11,max:11,message:"长度在 11 个字符",trigger:"blur"}],bmp_contacts:[{required:!0,message:"请输入联系人",trigger:"blur"}]},newlyAdded:{name:"xxxxxx",accountNumber:"xxxxxx",dialogVisible:!1,value:"",value1:[],msg:[{radio:"2",name:"满减券推广"},{radio:"2",name:"商品推广"}],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]},tableMsg:[{key:"bmp_name",name:"商户名称"},{key:"partner_bind_device_status",name:"是否已绑定设备"},{key:"bmp_mid",name:"银联子商户号"},{key:"bmp_login_id",name:"登录账号",type:"1"}],equipmentManagement:{msg:[],tableData:[],dialogVisible:!1},StateManagement:{radio:"1",input:"",dialogVisible:!1},headerStyle:{background:"#4B86BC",color:"#ffffff",borderRight:"1px solid #E3E5EB",padding:"0px",height:"45px","line-height":"45px"},tableData:[],currentCompanyId:""}},created:function(){this.Select_industry(),this.bank_commodity()},watch:{"equipmentManagement.dialogVisible":function(e){this.msgData=[]}},methods:{Select_industry:function(){var e=this,t=this,a={obj_bank_center_id:this.customGlobal.userInfoExt.cui_bank_center_id,obj_province_id:this.customGlobal.userInfoExt.cui_province_id,obj_city_id:this.customGlobal.userInfoExt.cui_city_id,obj_county_id:this.customGlobal.userInfoExt.cui_county_id,obj_station_id:this.customGlobal.userInfoExt.cui_station_id},i=this.$loading({lock:!0,text:"提交中...",target:".main",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.cooperative_channel_providers_list_query,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:l()(a)})).then(function(a){console.log("异步调用成功返回:"+l()(a)),"success"==a.data.status?(t.tableData=a.data.rows,i.close()):(t.tableData=[],console.info("商户查询失败"),i.close(),"请登录认证"===a.data.msg&&e.$router.push({path:"/login"}))},function(a){console.log("异步调用出错:"+l()(a)),i.close(),t.tableData=[],e.$alert(l()(a.message),"商户查询失败!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(a){console.log("异步调用失败返回:"+l()(a)),i.close(),t.tableData=[],e.$alert(l()(a.message),"商户查询失败！",{confirmButtonText:"确定",callback:function(e){}})})},submitData:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.submitForm()})},submitForm:function(){var e=this,t=this,a={bmp_type:"1",bmp_mid:this.ruleForm.bmp_mid,bmp_name:this.ruleForm.bmp_name,bmp_login_id:this.ruleForm.bmp_login_id,bmp_passwd:this.customGlobal.md5(this.ruleForm.bmp_passwd),bmp_contacts:this.ruleForm.bmp_contacts,bmp_phone:this.ruleForm.bmp_phone,bmp_bank_center_id:this.customGlobal.userInfoExt.cui_bank_center_id,bmp_province_id:this.customGlobal.userInfoExt.cui_province_id,bmp_city_id:this.customGlobal.userInfoExt.cui_city_id,bmp_county_id:this.customGlobal.userInfoExt.cui_county_id,bmp_station_id:this.customGlobal.userInfoExt.cui_station_id,bmp_cui_id:this.customGlobal.userInfoExt.cui_cui_id},i=this.$loading({lock:!0,text:"提交中...",target:".main",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.cooperative_channel_providers_insert,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:l()(a)})).then(function(a){console.log("异步调用成功返回:"+l()(a)),"success"==a.data.status?(e.Select_industry(),e.newlyAdded.dialogVisible=!1,e.resetForm("ruleForm"),i.close(),e.$message({type:"success",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<span style="color:black;">商户新增成功</span>'})):(t.tableData=[],console.info("商户查询失败"),i.close(),"请登录认证"===a.data.msg&&e.$router.push({path:"/login"}))},function(a){console.log("异步调用出错:"+l()(a)),i.close(),t.tableData=[],e.$alert(l()(a.message),"商户查询失败!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(a){console.log("异步调用失败返回:"+l()(a)),i.close(),t.tableData=[],e.$alert(l()(a.message),"商户查询失败！",{confirmButtonText:"确定",callback:function(e){}})})},resetForm:function(e){this.$refs[e].resetFields(),this.newlyAdded.dialogVisible=!1},resetForm1:function(e){this.equipmentManagement.dialogVisible=!1},equipmentGetData:function(e){var t=this;this.equipmentManagement.msg=e;var a=this,i={bmp_uuid:e.bmp_uuid,obj_bank_center_id:this.customGlobal.userInfoExt.cui_bank_center_id,obj_province_id:this.customGlobal.userInfoExt.cui_province_id,obj_city_id:this.customGlobal.userInfoExt.cui_city_id,obj_county_id:this.customGlobal.userInfoExt.cui_county_id,obj_station_id:this.customGlobal.userInfoExt.cui_station_id},n=this.$loading({lock:!0,text:"提交中...",target:".main",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.channel_each_device_rate_query,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:l()(i)})).then(function(e){console.log("异步调用成功返回:"+l()(e)),"success"==e.data.status?(t.equipmentManagement.dialogVisible=!0,t.equipmentManagement.tableData=e.data.device_info,t.equipmentManagement.tableData.forEach(function(e){e.bmp_name}),n.close()):(a.tableData=[],console.info("查询失败"),n.close(),"请登录认证"===e.data.msg&&t.$router.push({path:"/login"}))},function(e){console.log("异步调用出错:"+l()(e)),n.close(),a.tableData=[],t.$alert(l()(e.message),"查询失败!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(e){console.log("异步调用失败返回:"+l()(e)),n.close(),a.tableData=[],t.$alert(l()(e.message),"查询失败！",{confirmButtonText:"确定",callback:function(e){}})})},channelClick:function(e){var t=this;if(this.equipmentManagement.tableData[e.$index].mbmp_fee="",this.equipmentManagement.tableData[e.$index].bmp_name="",this.equipmentManagement.tableData[e.$index].bmp_uuid="",this.msgData.every(function(a){return a.di_uuid!==t.equipmentManagement.tableData[e.$index].di_uuid}))this.msgData.push(this.equipmentManagement.tableData[e.$index]);else{var a=this.msgData.filter(function(a){return a.di_uuid!==t.equipmentManagement.tableData[e.$index].di_uuid});this.msgData=a,this.msgData.push(this.equipmentManagement.tableData[e.$index])}console.log(this.msgData,"this.msgData")},bindingClick:function(e){var t=this;if(this.equipmentManagement.tableData[e.$index].mbmp_fee="",this.equipmentManagement.tableData[e.$index].bmp_name=this.equipmentManagement.msg.bmp_name,this.equipmentManagement.tableData[e.$index].bmp_uuid=this.equipmentManagement.msg.bmp_uuid,!this.msgData.every(function(a){return a.di_uuid!==t.equipmentManagement.tableData[e.$index].di_uuid})){var a=this.msgData.filter(function(a){return a.di_uuid!==t.equipmentManagement.tableData[e.$index].di_uuid});this.msgData=a}console.log(this.msgData,"this.msgData")},submitList:function(e){var t=this;this.$confirm("是否操作当前渠道商设备列表?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.submitState()})},submitState:function(){var e=this,t=this,a=this.equipmentManagement.tableData.filter(function(t){return t.bmp_uuid==e.equipmentManagement.msg.bmp_uuid}),i={mbmp_partner_uuid:this.equipmentManagement.msg.bmp_uuid,merPartnerBindDeviceInfoList:a},n=this.$loading({lock:!0,text:"提交中...",target:".main",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.channel_each_device_rate_update,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:l()(i)})).then(function(i){if(console.log("异步调用成功返回:"+l()(i)),"success"==i.data.status){e.msgData.forEach(function(e){e.show=!0});var o=e.msgData.concat(a);e.platform_service_fee_submit1(o),e.Select_industry(),e.equipmentManagement.dialogVisible=!1,n.close(),e.$message({type:"success",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<span style="color:black;">修改成功</span>'})}else t.tableData=[],console.info("修改失败"),n.close(),"请登录认证"===i.data.msg&&e.$router.push({path:"/login"})},function(a){console.log("异步调用出错:"+l()(a)),n.close(),t.tableData=[],e.$alert(l()(a.message),"修改失败!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(a){console.log("异步调用失败返回:"+l()(a)),n.close(),t.tableData=[],e.$alert(l()(a.message),"修改失败",{confirmButtonText:"确定",callback:function(e){}})})},inputChange:function(e,t){e[t]=e[t].replace(/[^\d.]/g,""),e[t]=e[t].replace(/\.{2,}/g,"."),e[t]=e[t].replace(".","$#$").replace(/\./g,"").replace("$#$","."),e[t]=e[t].replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),e[t].indexOf(".")<0&&""!=e[t]&&(e[t]=parseFloat(e[t]),e[t]=e[t]+"",e[t].length>2&&(e[t]=e[t].slice(0,2)))},bank_commodity:function(){var e=this,t=this,a={companyId:this.customGlobal.userInfoExt.cui_station_id},i=this.$loading({lock:!0,text:"",target:".main",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.bank_transcoding,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:l()(a)})).then(function(a){"success"==a.data.status?(i.close(),t.currentCompanyId=a.data.currentCompanyId):(console.info("转码失败"),i.close(),"请登录认证"===a.data.msg&&e.$router.push({path:"/login"}))},function(t){i.close(),e.$alert(l()(t.message),"转码出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(t){console.log("异步调用失败返回:"+l()(t)),i.close(),e.$alert(l()(t.message),"转码出错",{confirmButtonText:"确定",callback:function(e){}})})},platform_service_fee_submit1:function(e){var t=this,a={flag:"2_2",detail:e.map(function(e){return{device_uuid:e.di_uuid?e.di_uuid:"0",obj_fee:e.mbmp_fee?e.mbmp_fee:"0",obj_id:e.show?"0":t.equipmentManagement.msg.bmp_mid,bank_company_alias_id:t.currentCompanyId}})};this.customGlobal.postHttpClient(this.customGlobal.serverUrl.postBank13CompanyIdAndDeviceUnionConfigExt,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:l()(a)})).then(function(e){"success"==e.data.status||(console.info("平台服务费设置失败"),"请登录认证"===e.data.msg&&t.$router.push({path:"/login"}))},function(e){t.$alert(l()(e.message),"平台服务费设置出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(e){console.log("异步调用失败返回:"+l()(e)),t.$alert(l()(e.message),"平台服务费设置出错",{confirmButtonText:"确定",callback:function(e){}})})},PopupControl:function(e,t,a){console.log(e.row),t.dialogVisible=!0,t.name=e.row.mbmi_mer_name,t.obj=e.row},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleSizeChange:function(e){this.queryParam.pageSize=e,this.queryValveCurrentData()},handleCurrentChange:function(e){this.queryParam.currentPage=e,this.queryValveCurrentData()}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[e._v("已合作渠道商列表")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.newlyAdded.dialogVisible=!0}}},[e._v("新增渠道商户")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"new-table-fixed-right new-table-fixed",attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","row-style":{height:"10px"},"cell-style":{padding:"5px 0px"},"header-cell-style":e.headerStyle}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),e._v(" "),e._l(e.tableMsg,function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.key,label:t.name},scopedSlots:e._u([{key:"default",fn:function(i){return[2==i.row.bmp_type&&"登录账号"==t.name?a("div",[e._v("\n          -\n        ")]):a("div",[e._v("\n          "+e._s(i.row[t.key])+"\n        ")])]}}],null,!0)})}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.PopupControl(t,e.merchantInformation,"商户信息")}}},[e._v("商户信息")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.equipmentGetData(t.row)}}},[e._v("设备管理")])]}}])})],2),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","current-page":1,"page-sizes":[10,20,50,100,200],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:10},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"商户信息",visible:e.merchantInformation.dialogVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.merchantInformation,"dialogVisible",t)}}},[a("div",[a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("商户名称："+e._s(e.merchantInformation.obj.bmp_name)+"\n      ")]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("联系人：\n        "+e._s(e.merchantInformation.obj.bmp_contacts))]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("联系电话：\n        "+e._s(e.merchantInformation.obj.bmp_phone))]),e._v(" "),a("div",{staticStyle:{width:"100%","text-align":"left",margin:"0 0 10px 10px"}},[e._v("银联子商户号： "+e._s(e.merchantInformation.obj.bmp_mid)+"\n      ")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.merchantInformation.dialogVisible=!1}}},[e._v("关 闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"绑定设备",visible:e.equipmentManagement.dialogVisible,width:"73%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.equipmentManagement,"dialogVisible",t)}}},[a("div",{staticStyle:{"text-align":"left","font-size":"20px","font-weight":"bold"},attrs:{slot:"title"},slot:"title"},[a("span",[e._v(e._s("设备管理"))])]),e._v(" "),a("div",{staticClass:"box test-5"},[a("div",{staticStyle:{"text-align":"left","font-size":"18px","font-weight":"bold",margin:"10px"}},[a("span",[e._v("终端列表")])]),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"new-table-fixed-right new-table-fixed",attrs:{border:"",align:"center",data:e.equipmentManagement.tableData,"tooltip-effect":"dark","row-style":{height:"10px"},"cell-style":{padding:"5px 0px"},"header-cell-style":e.headerStyle}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"di_address_type",label:"设备场地类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"di_uuid",label:"设备编号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("format")(t.row.di_uuid)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"di_setup_position",label:"设备地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.di_setup_position))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"绑定状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.bmp_name?t.row.bmp_name:"未绑定"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"绑定设备",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[""==t.row.bmp_uuid?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.bindingClick(t)}}},[e._v("\n              绑定")]):e._e(),e._v(" "),t.row.bmp_uuid==e.equipmentManagement.msg.bmp_uuid?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.channelClick(t)}}},[e._v("解绑")]):e._e(),e._v(" "),t.row.bmp_uuid!=e.equipmentManagement.msg.bmp_uuid&&""!=t.row.bmp_uuid?a("div",{staticStyle:{"text-align":"center"}},[e._v("-")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"bmp_mid",label:"渠道服务费",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[""==t.row.bmp_uuid?a("div",{staticStyle:{"text-align":"center"}},[e._v("\n              -\n            ")]):e._e(),e._v(" "),t.row.bmp_uuid==e.equipmentManagement.msg.bmp_uuid?a("div",{staticStyle:{"text-align":"left"}},[e._v("\n              每笔交易额\n              "),a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请输入百分比交易额"},on:{input:function(a){return e.inputChange(t.row,"mbmp_fee")}},model:{value:t.row.mbmp_fee,callback:function(a){e.$set(t.row,"mbmp_fee",a)},expression:"scope.row.mbmp_fee"}}),e._v("%\n            ")],1):a("div",{staticStyle:{"text-align":"center"}},[e._v("\n              -\n            ")])]}}])})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.resetForm1("ruleForm")}}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitList("ruleForm")}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,visible:e.newlyAdded.dialogVisible,width:"600px"},on:{"update:visible":function(t){return e.$set(e.newlyAdded,"dialogVisible",t)}}},[a("div",{staticStyle:{"text-align":"left","font-size":"20px","font-weight":"bold"},attrs:{slot:"title"},slot:"title"},[a("span",[e._v(e._s("新增已审核商户"))])]),e._v(" "),a("div",{staticClass:"box1 test-5"},[a("div",{staticStyle:{"text-align":"left","font-size":"18px","font-weight":"bold","margin-left":"10px"},attrs:{slot:"title"},slot:"title"},[a("span",[e._v("基本信息")])]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"160px"}},[a("el-row",{attrs:{gutter:24}},[a("el-form-item",{attrs:{label:"商户名称:",prop:"bmp_name"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入商户名称"},model:{value:e.ruleForm.bmp_name,callback:function(t){e.$set(e.ruleForm,"bmp_name",t)},expression:"ruleForm.bmp_name"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-form-item",{attrs:{label:"银联子商户号:",prop:"bmp_mid"}},[a("el-input",{attrs:{placeholder:"请输入银联子商户号"},model:{value:e.ruleForm.bmp_mid,callback:function(t){e.$set(e.ruleForm,"bmp_mid",t)},expression:"ruleForm.bmp_mid"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-form-item",{attrs:{label:"联系人",prop:"bmp_contacts"}},[a("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.ruleForm.bmp_contacts,callback:function(t){e.$set(e.ruleForm,"bmp_contacts",t)},expression:"ruleForm.bmp_contacts"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-form-item",{attrs:{label:"联系电话:",prop:"bmp_phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:11},model:{value:e.ruleForm.bmp_phone,callback:function(t){e.$set(e.ruleForm,"bmp_phone",t)},expression:"ruleForm.bmp_phone"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-form-item",{attrs:{label:"商户登录名(手机号):",prop:"bmp_login_id"}},[a("el-input",{attrs:{maxlength:11,placeholder:"请输入商户登录名(手机号)"},model:{value:e.ruleForm.bmp_login_id,callback:function(t){e.$set(e.ruleForm,"bmp_login_id",t)},expression:"ruleForm.bmp_login_id"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-form-item",{attrs:{label:"商户初始密码:",prop:"bmp_passwd"}},[a("el-input",{attrs:{placeholder:"商户初始密码"},model:{value:e.ruleForm.bmp_passwd,callback:function(t){e.$set(e.ruleForm,"bmp_passwd",t)},expression:"ruleForm.bmp_passwd"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitData("ruleForm")}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(n,o,!1,function(e){a("4+gj")},null,null);t.default=s.exports}});
//# sourceMappingURL=3.5c871eafb097572753a0.js.map