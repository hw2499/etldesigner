{"version":3,"sources":["webpack:///src/components/views/baseInfoManager/OrgTreeIndexForCompanyUser.vue","webpack:///./src/components/views/baseInfoManager/OrgTreeIndexForCompanyUser.vue?8ac7","webpack:///./src/components/views/baseInfoManager/OrgTreeIndexForCompanyUser.vue","webpack:///src/components/views/baseInfoManager/OrgCenterForComapnyUser.vue","webpack:///./src/components/views/baseInfoManager/OrgCenterForComapnyUser.vue?c719","webpack:///./src/components/views/baseInfoManager/OrgCenterForComapnyUser.vue"],"names":["OrgTreeIndexForCompanyUser","components","OrgCenterForComapnyUser","name","data","icon1","showTree","currentSelTreeNodeId","currentSelTreeNodeIds","treeDataStatus","treeData","id","caption","type","detail","created","this","initOrgTemplateInfo","methods","removeTreeNode","node","parent","children","index","findIndex","d","splice","initTreeDataStatus","h","_ref","store","stringify_default","style","find","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","keys_default","next","done","k","value","console","info","err","return","_this","loading","$loading","lock","text","target","spinner","background","customGlobal","postHttpClient","serverUrl","postQueryOrganTemplate","orgBaseURI","Content-Type","qs","stringify","jsondata","config","username","userInfoExt","cui_login_id","then","res","log","status","JSON","parse","organ","orgkey","close","msg","$router","replace","path","error","$alert","message","confirmButtonText","callback","action","catch","showHiddenTree","handleTreeNodeClick","node_label","node_key","node_type","node_obj","push","$refs","org_tree","getCurrentNode","getTreeNodeParentCaption2","getNode","level","getCurrentKey","i1","length","encrypt","cryptoKey","reverse","Bus","$emit","cur_obj","orgid","obj","label","key","currentNode","len","loop1","baseInfoManager_OrgTreeIndexForCompanyUser","render","_vm","_h","$createElement","_c","_self","attrs","shadow","staticStyle","width","border","height","background-color","ref","default-expand-all","node-key","highlight-current","props","render-content","on","node-click","_e","_v","class","display","flex-direction","justify-content","align-items","click","padding-top","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","destroyed","$off","mounted","$on","val","tmpCaption","decrypt","baseInfoManager_OrgCenterForComapnyUser"],"mappings":"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","file":"static/js/23.a4b4ec31a04bfba368f0.js","sourcesContent":["<template>\n  <!--  组织机构使用样本-->\n  <div >\n    <el-card shadow=\"always\"  >\n      <el-container style=\"width:100%; border: 1px solid #eee\">\n\n        <el-aside   v-if=\"showTree\" width=\"200px\" style=\" height: calc(100vh); background-color: rgb(238, 241, 246)\">\n          <el-tree\n            style=\" height: calc(100vh);\"\n\n            v-if=\"showTree\"\n            :data=\"treeData\"\n\n            default-expand-all\n            node-key=\"id\"\n            ref=\"org_tree\"\n            highlight-current\n            :props=\" {children: 'detail',label: 'caption' }\"\n            @node-click=\"handleTreeNodeClick\"\n            :render-content=\"initTreeDataStatus\"\n          >\n\n\n          </el-tree>\n\n        </el-aside>\n        <el-container style=\"width:100%; border: 1px solid #eee\">\n          <el-aside    width=\"25px\" style=\" height: calc(100vh); background-color: rgb(238, 241, 246)\">\n\n            <i :class=\"icon1\"\n               style=\"height:100%;display: flex;width:25px;\n             flex-direction: row;\n             justify-content: center;align-items: center;\"\n               @click=\"showHiddenTree\"\n\n            ></i>\n          </el-aside>\n          <el-main style=\"height: 100%;padding-top:0px;\">\n\n           <org-center-for-comapny-user></org-center-for-comapny-user>\n\n          </el-main>\n        </el-container>\n\n      </el-container>\n    </el-card>\n\n\n\n\n\n\n\n  </div>\n</template>\n\n<script>\nimport Bus from \"../../../utils/Bus\";\nimport OrgCenterForComapnyUser from \"./OrgCenterForComapnyUser\";\n\nexport default {\n  components:{OrgCenterForComapnyUser},\nname: \"OrgTreeIndexForCompanyUser\",\n  data(){\n      return{\n        icon1: \"el-icon-caret-left\",//\"el-icon-d-arrow-left\",\n        showTree: true,\n        currentSelTreeNodeId:'',//当前选择节点的ID\n        currentSelTreeNodeIds:[],//当前选择节点的IDs,从父级到子级,为用户赋组织机构权限用\n\n        treeDataStatus: {},//当前用户的组织机构树可显示的树节点集合\n        treeData:[//机构树模板\n          {id:'0',caption:'智慧供热平台',type:'0',detail:[\n              {id:'100',caption:'热力公司1',type:'1',detail:[\n                  {id:'100_1',caption:'热力分公司1_1',type:'2',detail:[\n                      {id:'100_1_1',caption:'热力所1',type:'3',detail:[\n                          {id:'100_1_1_1',caption:'换热站1',type:'4'},\n                          {id:'100_1_1_2',caption:'换热站2',type:'4'},\n                        ]},\n                      {id:'100_1_2',caption:'热力所2',type:'3'},\n                    ]},\n                  {id:'100_2',caption:'热力分公司1_2',type:'2'},\n                ]},\n              {id:'200',caption:'热力公司2',type:'1',detail:[\n                  {id:'200_1',caption:'热力分公司2_1',type:'2'},\n                  {id:'200_2',caption:'热力分公司2_2',type:'2'},\n                ]},\n            ]}\n\n\n        ]\n      }\n  },\n\n  created() {\n\n\n    this.initOrgTemplateInfo();\n  },\n  methods:{\n    removeTreeNode (node, data) {\n      const parent = node.parent\n      const children = parent.data.detail || parent.data\n      const index = children.findIndex(d => d.id === data.id)\n      children.splice(index, 1)\n    },\n    initTreeDataStatus(h, { node, data, store }) {\n\n      if(JSON.stringify(this.treeDataStatus)===\"{}\"){\n        return(\n          <span style=\"font-size:14px;\">\n                  <span>{data.caption }</span>\n                </span>\n        )\n      }else{\n        let find = false;\n        for (let k of Object.keys(this.treeDataStatus)) {\n          if(data.id===k){\n            console.info(k+\",显示\"+data.caption );\n            return(\n              <span >\n                  <span>{data.caption }</span>\n                </span>\n            )\n            find = true;\n            break;\n          }else{\n\n          }\n        }\n        if(find === false){\n          this.removeTreeNode( node,data);\n        }\n      }\n\n    },\n    initOrgTemplateInfo(){\n      const loading = this.$loading({\n        lock: true,\n        text: '查询中...',\n        target: '.main',\n        spinner: 'el-icon-loading',\n\n        background: 'rgba(0, 0, 0, .7)'\n      });\n      var p1 = this.customGlobal.postHttpClient(\n        this.customGlobal.serverUrl.postQueryOrganTemplate,\n        //this.customGlobal.serverUrl.baseURI,\n        this.customGlobal.serverUrl.orgBaseURI,\n        {\"Content-Type\": \"application/x-www-form-urlencoded\"},\n        this.qs.stringify({jsondata:JSON.stringify({config:'all',username:this.customGlobal.userInfoExt.cui_login_id})})\n      );\n\n      p1.then((res) => {\n        console.log(\"异步调用成功返回:\"+JSON.stringify(res));\n        if(res.data.status=='success'){\n          this.treeData = [JSON.parse(res.data.organ)];\n          this.treeDataStatus = JSON.parse(res.data.orgkey);\n          loading.close();\n\n        }else{\n          console.info(\"查询失败\");\n          if(res.data.msg==='请登录认证' && res.data.status==='failed'){\n            this.$router.replace({path:'/login'});\n          }else{\n            this.treeData = [ JSON.parse(res.data.organ) ];\n            this.treeDataStatus = JSON.parse(res.data.orgkey);\n          }\n\n          loading.close();\n\n\n        }\n\n      },error=>{\n        console.log(\"异步调用出错:\"+JSON.stringify(error));\n        loading.close();\n        this.$alert(JSON.stringify(error.message), '保存出错!', {\n          confirmButtonText: '确定',\n          callback: action => {\n\n          }\n        });\n      }).catch((res) => {\n        console.log(\"异步调用失败返回:\"+JSON.stringify(res));\n        loading.close();\n\n        this.$alert(JSON.stringify(res.message), '保存出错', {\n          confirmButtonText: '确定',\n          callback: action => {\n\n          }\n        });\n      });\n\n    },\n\n    showHiddenTree(){\n\n      if(this.showTree){\n        // this.icon1 = \"el-icon-d-arrow-right\";\n        this.icon1 = \"el-icon-caret-right\";\n        //this.windowWidth= (this.windowWidth+300);\n      }else{\n        // this.icon1 =\"el-icon-d-arrow-left\";\n        this.icon1 =\"el-icon-caret-left\";\n        //this.windowWidth = (this.customGlobal.win_w_h.width-300)+'px';\n        //this.windowWidth= (this.windowWidth-300) ;\n      }\n      this.showTree = !this.showTree;\n\n      console.info(\"是否显示：\"+this.showTree);\n\n\n    },\n    handleTreeNodeClick(data, node) {\n      //console.info('点击事件,可在此处理对应逻辑_data:'+JSON.stringify(data)+\",node展开状态:\"+  node.expanded );\n      //console.log(\"得到当前选择key_getCurrentKey：\"+this.$refs.org_tree.getCurrentKey());\n      //console.log(\"得到当前选择key_getCurrentNode：\"+this.$refs.org_tree.getCurrentNode().caption);\n      // console.log(\"得到当前选择key_getCurrentNode.parent：\"+this.$refs.org_tree.getNode( this.$refs.org_tree.getCurrentNode()).parent.label);\n      let node_label = [];\n      let node_key = [];\n      let node_type = [];\n      let node_obj = [];\n      node_label.push(this.$refs.org_tree.getCurrentNode().caption);\n      node_key.push(this.$refs.org_tree.getCurrentNode().id);\n      node_type.push(this.$refs.org_tree.getCurrentNode().type+\"\");\n      node_obj.push({id:this.$refs.org_tree.getCurrentNode().id,caption:this.$refs.org_tree.getCurrentNode().caption,type:this.$refs.org_tree.getCurrentNode().type+\"\"});\n      this.getTreeNodeParentCaption2(node_label,node_key,node_type,node_obj,this.$refs.org_tree.getCurrentNode());\n      //console.info(\"node_label:\"+node_label.reverse());\n      //console.info(\"node_key:\"+node_key.reverse());\n      let _level_ = this.$refs.org_tree.getNode(this.$refs.org_tree.getCurrentNode()).level;\n      //if(_level_==5){\n      // this.$message({\n      //   type: 'error',\n      //   showClose: true,\n      //   duration:0,\n      //   dangerouslyUseHTMLString: true,\n      //   message: \"<spand style='color:black;'>不支持对[\"+this.$refs.org_tree.getCurrentNode().caption+\"]层级进行操作</spand>\"\n      // });\n      //}else{\n      if(this.currentSelTreeNodeId!==this.$refs.org_tree.getCurrentKey()){\n        this.currentSelTreeNodeId = this.$refs.org_tree.getCurrentKey();\n        for(var i1=0;i1<node_label.length;i1++){\n          //node_label[i1] = encodeURIComponent(node_label[i1]);\n          node_label[i1] = this.customGlobal.encrypt(node_label[i1],this.customGlobal.cryptoKey);\n\n        }\n        this.currentSelTreeNodeIds = node_key.reverse();\n        console.info(\"currentSelTreeNodeIds:\"+this.currentSelTreeNodeIds);\n        Bus.$emit('globalMsgForCompanyUser',{\n          cur_obj:{orgid:this.currentSelTreeNodeId ,caption:this.$refs.org_tree.getCurrentNode().caption,type:this.$refs.org_tree.getCurrentNode().type+\"\"},\n          orgid: this.currentSelTreeNodeId ,\n          caption:node_label.reverse(),\n          id:this.currentSelTreeNodeIds,\n          type:node_type.reverse(),\n          obj:node_obj.reverse()\n        });\n\n      }\n      // }\n\n    },\n    //返回树节点层级caption\n    getTreeNodeParentCaption2(label,key ,type,obj, node){\n      let currentNode = this.$refs.org_tree.getNode(node);\n      let len = currentNode.level;\n      let loop1 = 1;\n      // console.info(\"level:\"+len);\n      while(loop1<len){\n        if(currentNode.parent!==undefined) {\n          label.push(currentNode.parent.label)  ;\n          key.push(currentNode.parent.key)  ;\n          // console.info(\"currentNode.parent.type:\"+currentNode.parent.data.type);\n          type.push(currentNode.parent.data.type+\"\")  ;\n          obj.push({id:currentNode.parent.key,caption:currentNode.parent.label,type:currentNode.parent.data.type+\"\"});\n\n          currentNode = this.$refs.org_tree.getNode(currentNode.parent);\n          loop1++;\n        }\n      }\n      return {\"label\":label,\"key\":key,\"type\":type,\"obj\":obj};\n\n\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/baseInfoManager/OrgTreeIndexForCompanyUser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('el-container',{staticStyle:{\"width\":\"100%\",\"border\":\"1px solid #eee\"}},[(_vm.showTree)?_c('el-aside',{staticStyle:{\"height\":\"calc(100vh)\",\"background-color\":\"rgb(238, 241, 246)\"},attrs:{\"width\":\"200px\"}},[(_vm.showTree)?_c('el-tree',{ref:\"org_tree\",staticStyle:{\"height\":\"calc(100vh)\"},attrs:{\"data\":_vm.treeData,\"default-expand-all\":\"\",\"node-key\":\"id\",\"highlight-current\":\"\",\"props\":{children: 'detail',label: 'caption' },\"render-content\":_vm.initTreeDataStatus},on:{\"node-click\":_vm.handleTreeNodeClick}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('el-container',{staticStyle:{\"width\":\"100%\",\"border\":\"1px solid #eee\"}},[_c('el-aside',{staticStyle:{\"height\":\"calc(100vh)\",\"background-color\":\"rgb(238, 241, 246)\"},attrs:{\"width\":\"25px\"}},[_c('i',{class:_vm.icon1,staticStyle:{\"height\":\"100%\",\"display\":\"flex\",\"width\":\"25px\",\"flex-direction\":\"row\",\"justify-content\":\"center\",\"align-items\":\"center\"},on:{\"click\":_vm.showHiddenTree}})]),_vm._v(\" \"),_c('el-main',{staticStyle:{\"height\":\"100%\",\"padding-top\":\"0px\"}},[_c('org-center-for-comapny-user')],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1629f82b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/baseInfoManager/OrgTreeIndexForCompanyUser.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1629f82b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrgTreeIndexForCompanyUser.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrgTreeIndexForCompanyUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrgTreeIndexForCompanyUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1629f82b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrgTreeIndexForCompanyUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1629f82b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/baseInfoManager/OrgTreeIndexForCompanyUser.vue\n// module id = null\n// module chunks = ","<template>\n\n</template>\n\n<script>\nimport Bus from \"../../../utils/Bus\";\n\nexport default {\n  name: \"OrgCenterForComapnyUser\",\n  destroyed(){\n    Bus.$off('globalMsgForCompanyUser');\n  },\n  mounted() {\n    var that = this;\n    Bus.$on('globalMsgForCompanyUser',function(val){//监听各组件传递的 globalMsg 事件\n      console.log(\"监听到的消息：\"+JSON.stringify(val));\n      this.tmpCaption = [];\n      for(var i1=0;i1< val.caption.length;i1++){\n        this.tmpCaption[i1]= this.customGlobal.decrypt(val.caption[i1],this.customGlobal.cryptoKey);\n      }\n      console.info(\"机构名称：\"+this.tmpCaption);\n\n    });\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/baseInfoManager/OrgCenterForComapnyUser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e0426434\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/baseInfoManager/OrgCenterForComapnyUser.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e0426434\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrgCenterForComapnyUser.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrgCenterForComapnyUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrgCenterForComapnyUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e0426434\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrgCenterForComapnyUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e0426434\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/baseInfoManager/OrgCenterForComapnyUser.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}