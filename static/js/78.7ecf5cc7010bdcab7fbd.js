webpackJsonp([78],{kSiU:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("fZjL"),r=i.n(o),a=i("BO1k"),s=i.n(a),l=i("mvHQ"),u=i.n(l),n=(i("Wxq9"),{name:"OrgInfoUser",components:{},data:function(){return{companyIds:[],childCompanyIds:[],instituteIds:[],stationIds:[],queryQuarters:[],queryBuilders:[],dataCaptions:[],dataQuery:{},treeDataStatus:{},treeData:[],treeDataOptions:[],showTree:!0,tmpCaption:[],powerStatusoptionsDialog:[{value:"1",label:"供暖"},{value:"0",label:"停暖"}],roomPitionoptionsDialog:[{value:"0",label:"不区分"},{value:"1",label:"靠顶"},{value:"2",label:"把山"},{value:"3",label:"靠底"},{value:"4",label:"中间"},{value:"5",label:"把山+靠顶"},{value:"6",label:"把山+靠底"}],roomTowardoptionsDialog:[{value:"1",label:"南"},{value:"2",label:"北"},{value:"3",label:"西"},{value:"4",label:"东"}],roomTypeoptionsDialog:[{value:"1",label:"住宅"},{value:"2",label:"网点"},{value:"3",label:"民宅散户"},{value:"4",label:"车库"},{value:"5",label:"办公学校"}],powerTypeoptionsDialog:[{value:"0",label:"散热片"},{value:"1",label:"地热"}],powerStatusoptions:[{value:"",label:"全部"},{value:"1",label:"供暖"},{value:"0",label:"停暖"}],roomPitionoptions:[{value:"",label:"全部"},{value:"0",label:"不区分"},{value:"1",label:"靠顶"},{value:"2",label:"把山"},{value:"3",label:"靠底"},{value:"4",label:"中间"},{value:"5",label:"把山+靠顶"},{value:"6",label:"把山+靠底"}],roomTowardoptions:[{value:"",label:"全部"},{value:"1",label:"南"},{value:"2",label:"北"},{value:"3",label:"西"},{value:"4",label:"东"}],roomTypeoptions:[{value:"",label:"全部"},{value:"1",label:"住宅"},{value:"2",label:"网点"},{value:"3",label:"民宅散户"},{value:"4",label:"车库"},{value:"5",label:"办公学校"}],powerTypeoptions:[{value:"",label:"全部"},{value:"0",label:"散热片"},{value:"1",label:"地热"}],ballShow:!1,menuLeft:"-290",menuLeft2:"80",menuWidth:"80px",floatDivWidth:70,floatRightValue:"50px",floatTopValue:"55px",ballIcon:"el-icon-more",tableDialgTitle:"",userDialogFormVisible:!1,userForm:{pui_uuid:"",pui_company_id:"",pui_company_name:"",pui_child_company_id:"",pui_child_company_name:"",pui_institute_id:"",pui_institute_name:"",pui_station_id:"",pui_station_name:"",pui_community_id:"",pui_community_name:"",pui_build_id:"",pui_build_name:"",pui_login_id:"",pui_password:"",pui_realname:"",pui_concat_phone:"",pui_wx_open_id:"",pui_wx_nick_name:"",pui_power_status:"",pui_build_layer:"",pui_build_unit:"",pui_build_room_code:"",pui_power_area:"",pui_room_position:"",pui_room_toward:"",pui_room_type:"",pui_power_type:"",pui_org_code:"",pui_position:"",pui_writetime:"",flag:""},treeNodeInfo:{treeNodeOrgId:"",treeNodeCaptions:""},cardBodyHeight:!0,cardBodyStyle:"padding-top:10px;padding-bottom:10px;",icon1:"el-icon-caret-top",tableData:[],multipleSelection:[],sortOrderCol:"",colsChecked:["pui_realname","pui_community_name","pui_build_name","pui_concat_phone","pui_build_layer","pui_build_unit","pui_build_room_code","pui_power_area","pui_power_status","pui_room_position","pui_room_toward","pui_room_type","pui_power_type"],colsMap:[{caption:"住户姓名",value:"pui_realname",isShow:!0},{caption:"小区名称",value:"pui_community_name",isShow:!0},{caption:"楼栋名称",value:"pui_build_name",isShow:!0},{caption:"住户电话",value:"pui_concat_phone",isShow:!0},{caption:"所属楼层",value:"pui_build_layer",isShow:!0},{caption:"所属单元",value:"pui_build_unit",isShow:!0},{caption:"房间号",value:"pui_build_room_code",isShow:!0},{caption:"建筑面积",value:"pui_power_area",isShow:!0},{caption:"是否供暖",value:"pui_power_status",isShow:!0},{caption:"房屋位置",value:"pui_room_position",isShow:!0},{caption:"房屋朝向",value:"pui_room_toward",isShow:!0},{caption:"房屋类型",value:"pui_room_type",isShow:!0},{caption:"供热类型",value:"pui_power_type",isShow:!0}],queryParam:{totalRow:0,currentPage:1,pageSize:this.customGlobal.pageSize},ruleForm:{pui_realname:"",pui_concat_phone:"",pui_wx_open_id:"",pui_wx_nick_name:"",pui_power_status:"",pui_build_layer:"",pui_build_unit:"",pui_build_room_code:"",pui_power_area:"",pui_room_position:"",pui_room_toward:"",pui_room_type:"",pui_power_type:"",pui_org_code:"",pui_position:""},userFormRules:{pui_realname:[{validator:function(e,t,i){0===t.trim().length?i(new Error("住户名称不可为空")):i()},trigger:"blur"}]},rules:{}}},mounted:function(){console.info("Mounted_OrgInfoCompany:"+this.pri_detail.treeNodeOrgId),this.getQueryDetail()},created:function(){this.initOrgTemplateInfo(),this.assembleCompanyArray()},props:{pri_detail:{type:Object,default:function(){return{treeNodeCaptions:[],treeNodeIds:[],treeNodeOrgId:"",treeNodeType:[],currentTreeNode:{},cbInfo:{}}}}},watch:{pri_detail:function(e,t){e!==t||e.cbInfo!==t.cbInfo&&(this.dataCaptions=[],""!==this.pri_detail.cbInfo.community.ci_community_name&&(this.dataCaptions[0]=this.pri_detail.cbInfo.community.ci_community_name),""!==this.pri_detail.cbInfo.builder.bi_build_name&&(this.dataCaptions[1]=this.pri_detail.cbInfo.builder.bi_build_name),this.dataQuery=this.pri_detail.cbInfo),this.cbList(),this.reQueryValveCurrentData()}},directives:{trigger:{inserted:function(e,t){console.log("inserted:"+e.id),"ballBtn"===e.id&&e.click()}},drag:function(e){var t=e,i="";document.onselectstart=function(){return!1},t.onmousedown=function(e){var o=e.clientX-t.offsetLeft,r=e.clientY-t.offsetTop;return document.getElementById("dragbtn").setAttribute("data-flag",!1),document.getElementById("dragbtn").setAttribute("show2",t.offsetLeft),i=(new Date).getTime(),document.onmousemove=function(e){var i=e.clientX-o,a=e.clientY-r;i<=0?i=0:i>=document.documentElement.clientWidth-t.clientWidth&&(i=document.documentElement.clientWidth-t.clientWidth),document.getElementById("dragbtn").setAttribute("show2",i.toString()),a<=0?a=0:a>=document.documentElement.clientHeight-t.clientHeight&&(a=document.documentElement.clientHeight-t.clientHeight),t.style.left=i+"px",t.style.top=a+"px"},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,(new Date).getTime()-i<200&&document.getElementById("dragbtn").setAttribute("data-flag",!0)},!1}}},methods:{assembleCompanyArray:function(){var e=this.customGlobal.userOrgan,t=JSON.parse(u()(this.customGlobal.permissionKeyOrganKey.orgkey));if("0"!==this.customGlobal.userInfoExt.cui_type||"0"!==this.customGlobal.userInfoExt.cui_org_type){var i=!0,o=!1,a=void 0;try{for(var l,n=s()(r()(t));!(i=(l=n.next()).done);i=!0){var p=l.value;this.selectOrgIds(e,p)}}catch(e){o=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(o)throw a}}}else this.selectAdminOrgIds(e)},selectOrgIds:function(e,t){for(var i=0;i<e.length;i++){if(e[i].id===t&&e[i].type>=this.customGlobal.userInfoExt.cui_type)switch(e[i].type){case 1:this.companyIds.push(e[i].id);break;case 2:this.childCompanyIds.push(e[i].id);break;case 3:this.instituteIds.push(e[i].id);break;case 4:this.stationIds.push(e[i].id)}e[i].detail&&this.selectOrgIds(e[i].detail,t)}},selectAdminOrgIds:function(e){for(var t=0;t<e.length;t++){switch(e[t].type){case 1:this.companyIds.push(e[t].id);break;case 2:this.childCompanyIds.push(e[t].id);break;case 3:this.instituteIds.push(e[t].id);break;case 4:this.stationIds.push(e[t].id)}e[t].detail&&this.selectAdminOrgIds(e[t].detail)}},cbList:function(){var e=this;if(void 0!==this.pri_detail.treeNodeType){this.tmpCaption=[];for(var t=0;t<this.pri_detail.treeNodeType.length;t++)this.tmpCaption[t]=this.customGlobal.decrypt(this.pri_detail.treeNodeCaptions[t],this.customGlobal.cryptoKey)}this.$emit("parent_method","",function(t){e.dataQuery=t,"{}"!==u()(e.dataQuery)&&""!==e.dataQuery.builder&&""!==e.dataQuery.builder.bi_uuid?e.dataCaptions[1]=e.dataQuery.builder.bi_build_name:"{}"!==u()(e.dataQuery)&&""!==e.dataQuery.builder&&""===e.dataQuery.builder.bi_uuid&&e.dataCaptions.splice(1,1),"{}"!==u()(e.dataQuery)&&""!==e.dataQuery.community&&""!==e.dataQuery.community.ci_uuid?e.dataCaptions[0]=e.dataQuery.community.ci_community_name:"{}"!==u()(e.dataQuery)&&""===e.dataQuery.community.ci_uuid&&e.dataCaptions.splice(0,1)}),console.info("面包屑"+this.tmpCaption)},getQueryDetail:function(){void 0!==this.pri_detail.treeNodeOrgId?(console.info("点击Tab标签页OrgInfoCompany查询【热力公司】,获取值:"+this.pri_detail.treeNodeOrgId),this.cbList()):console.info("当前没有选择任何组织机构ID，查询所有[热力公司]信息"),this.queryValveCurrentData()},handleChangeQy:function(e){if(this.treeDataOptions.length>1)for(var t=0;t<this.treeDataOptions.length;t++)this.treeDataOptions[t]+",";else this.$alert("请至少选择到热力公司级别","新增提示!",{dangerouslyUseHTMLString:!0})},confCardBodyHeigth:function(){!1===this.cardBodyHeight?(this.cardBodyHeight=!0,this.cardBodyStyle="padding-top:10px;padding-bottom:10px;",this.icon1="el-icon-caret-top"):(this.cardBodyHeight=!1,this.cardBodyStyle="padding-top:0px;padding-bottom:0px;",this.icon1="el-icon-caret-bottom"),console.info("confCardBodyHeigth:"+this.cardBodyHeight)},colCheckCommand:function(){var e=this;console.info("colsChecked："+this.colsChecked),this.colsMap.filter(function(t){console.info("遍历"+t.value),-1!==e.colsChecked.indexOf(t.value)?(console.info("选中集合中存在"+t.value),t.isShow=!0):t.isShow=!1}),console.info("colsList:"+u()(this.colsMap))},reQueryValveCurrentData:function(){this.queryParam.currentPage=1,this.queryValveCurrentData()},queryValveCurrentData:function(){var e=this;console.info("组织机构ID："+this.treeNodeInfo.treeNodeOrgId);var t=this,i="",o="",r="",a="",s="",l="";if(void 0!==this.pri_detail.treeNodeType){var n=this.pri_detail.treeNodeType.length,p=this.pri_detail.treeNodeType[n-1];"1"===p?i=this.pri_detail.treeNodeIds[n-1]:"2"===p?o=this.pri_detail.treeNodeIds[n-1]:"3"===p?r=this.pri_detail.treeNodeIds[n-1]:"4"===p&&(a=this.pri_detail.treeNodeIds[n-1])}"{}"!==u()(this.dataQuery)&&void 0!==this.dataQuery.community&&(s=this.dataQuery.community.ci_uuid),"{}"!==u()(this.dataQuery)&&void 0!==this.dataQuery.builder&&(l=this.dataQuery.builder.bi_uuid);var c={perPageSize:this.queryParam.pageSize,currentPage:this.queryParam.currentPage,pui_realname:this.ruleForm.pui_realname,pui_company_id:i,pui_child_company_id:o,pui_institute_id:r,pui_station_id:a,pui_community_id:s,pui_build_id:l,pui_power_status:this.ruleForm.pui_power_status,pui_room_position:this.ruleForm.pui_room_position,pui_room_toward:this.ruleForm.pui_room_toward,pui_room_type:this.ruleForm.pui_room_type,pui_power_type:this.ruleForm.pui_power_type,stationIds:this.stationIds};""!==this.sortOrderCol&&(c.orderby=this.sortOrderCol),this.customGlobal.postHttpClient(this.customGlobal.serverUrl.residentialHousehold_query,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:u()(c)})).then(function(i){console.log("异步调用成功返回:"+u()(i)),"success"==i.data.status?(t.tableData=i.data.rows,t.queryParam.totalRow=i.data.total):(console.info("查询失败"),t.tableData=[],e.$alert(i.data.msg,"查询失败",{confirmButtonText:"确定",callback:function(t){console.info("data:"+u()(i.data)),"请登录认证"===i.data.msg&&"failed"===i.data.status&&e.$router.replace({path:"/login"})}}))},function(i){console.log("异步调用出错:"+u()(i)),t.tableData=[],e.$alert(u()(i.message),"查询出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(i){console.log("异步调用失败返回:"+u()(i)),t.tableData=[],e.$alert(u()(i.message),"查询出错",{confirmButtonText:"确定",callback:function(e){}})})},sortColumn:function(e){console.log("已经排序项："+u()(e));var t="";null!=e.order?("descending"===e.order?t="desc":"ascending"===e.order&&(t="asc"),console.info("属性名称："+e.prop+",排序方式："+e.order),this.sortOrderCol="vci."+e.prop+" "+t,console.info("住户选择排序列："+this.sortOrderCol),this.queryValveCurrentData()):this.sortOrderCol=""},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.queryParam.pageSize=e,this.queryValveCurrentData()},handleCurrentChange:function(e){console.log("当前页: "+e),this.queryParam.currentPage=e,this.queryValveCurrentData()},handleSelectionChange:function(e){this.multipleSelection=e,console.info("选择的行："+u()(this.multipleSelection))},isSelect:function(e,t){return"0"!=e.cui_org_type},getRowKeys:function(e){return e.pui_uuid},resetForm:function(e){this.$refs[e].resetFields()},cancelForm:function(e){this.$refs[e].resetFields(),this.$refs[e].clearValidate(),this.userDialogFormVisible=!1},clearQuery:function(e){this.$refs[e].resetFields()},openBox:function(){if(1!=document.getElementById("dragbtn").getAttribute("data-flag")){"el-icon-more"===this.ballIcon?this.ballIcon="el-icon-right":this.ballIcon="el-icon-more";var e=this.$refs.ballBtn.$el.getBoundingClientRect().x,t=document.documentElement.clientWidth;this.ballShow=!this.ballShow,document.getElementById("buttonMenuUser").style.left=e>t/2?this.menuLeft+"px":Math.abs(this.menuLeft2)+"px"}},handleAddRow:function(){if(console.log("新增住户"),void 0!==this.pri_detail.treeNodeType){var e=this.pri_detail.treeNodeType.length;if("4"===this.pri_detail.treeNodeType[e-1]){var t="",i="";if(void 0!==this.dataQuery.community&&(t=this.dataQuery.community.ci_uuid),void 0!==this.dataQuery.builder&&(i=this.dataQuery.builder.bi_uuid),""!==t&&""!==i){this.getQueryBuilders(t),this.tableDialgTitle="新增住户";var o="",r="",a="",s="";"0"!==this.customGlobal.userInfoExt.cui_type?2===this.pri_detail.treeNodeType.length&&"4"===this.pri_detail.treeNodeType[1]?(o=this.pri_detail.treeNodeIds[0],s=this.pri_detail.treeNodeIds[1]):3===this.pri_detail.treeNodeType.length&&"2"===this.pri_detail.treeNodeType[1]&&"4"===this.pri_detail.treeNodeType[2]?(o=this.pri_detail.treeNodeIds[0],r=this.pri_detail.treeNodeIds[1],s=this.pri_detail.treeNodeIds[2]):3===this.pri_detail.treeNodeType.length&&"3"===this.pri_detail.treeNodeType[1]&&"4"===this.pri_detail.treeNodeType[2]?(o=this.pri_detail.treeNodeIds[0],a=this.pri_detail.treeNodeIds[1],s=this.pri_detail.treeNodeIds[2]):(o=this.pri_detail.treeNodeIds[0],r=this.pri_detail.treeNodeIds[1],a=this.pri_detail.treeNodeIds[2],s=this.pri_detail.treeNodeIds[3]):3===this.pri_detail.treeNodeType.length&&"4"===this.pri_detail.treeNodeType[2]?(o=this.pri_detail.treeNodeIds[1],s=this.pri_detail.treeNodeIds[2]):4===this.pri_detail.treeNodeType.length&&"2"===this.pri_detail.treeNodeType[2]&&"4"===this.pri_detail.treeNodeType[3]?(o=this.pri_detail.treeNodeIds[1],r=this.pri_detail.treeNodeIds[2],s=this.pri_detail.treeNodeIds[3]):4===this.pri_detail.treeNodeType.length&&"3"===this.pri_detail.treeNodeType[2]&&"4"===this.pri_detail.treeNodeType[3]?(o=this.pri_detail.treeNodeIds[1],a=this.pri_detail.treeNodeIds[2],s=this.pri_detail.treeNodeIds[3]):(o=this.pri_detail.treeNodeIds[1],r=this.pri_detail.treeNodeIds[2],a=this.pri_detail.treeNodeIds[3],s=this.pri_detail.treeNodeIds[4]),this.userForm.pui_community_name=this.dataQuery.community.ci_community_name,this.userForm.pui_company_id=o,this.userForm.pui_child_company_id=r,this.userForm.pui_institute_id=a,this.userForm.pui_station_id=s,this.userForm.pui_community_id=t,this.userForm.pui_build_id=i,this.treeDataOptions=[],"0"!==this.customGlobal.userInfoExt.cui_type?(this.treeDataOptions[0]=this.userForm.pui_company_id,""!==this.userForm.pui_child_company_id&&""!==this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[1]=this.userForm.pui_child_company_id,this.treeDataOptions[2]=this.userForm.pui_institute_id,this.treeDataOptions[3]=this.userForm.pui_station_id):""===this.userForm.pui_child_company_id&&""!==this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[1]=this.userForm.pui_institute_id,this.treeDataOptions[2]=this.userForm.pui_station_id):""!==this.userForm.pui_child_company_id&&""===this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[1]=this.userForm.pui_child_company_id,this.treeDataOptions[2]=this.userForm.pui_station_id):this.treeDataOptions[1]=this.userForm.pui_station_id):(this.treeDataOptions[0]="0",this.treeDataOptions[1]=this.userForm.pui_company_id,""!==this.userForm.pui_child_company_id&&""!==this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[2]=this.userForm.pui_child_company_id,this.treeDataOptions[3]=this.userForm.pui_institute_id,this.treeDataOptions[4]=this.userForm.pui_station_id):""===this.userForm.pui_child_company_id&&""!==this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[2]=this.userForm.pui_institute_id,this.treeDataOptions[3]=this.userForm.pui_station_id):""!==this.userForm.pui_child_company_id&&""===this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[2]=this.userForm.pui_child_company_id,this.treeDataOptions[3]=this.userForm.pui_station_id):this.treeDataOptions[2]=this.userForm.pui_station_id),this.userForm.pui_realname="",this.userForm.pui_concat_phone="",this.userForm.pui_power_status="",this.userForm.pui_build_layer="",this.userForm.pui_build_unit="",this.userForm.pui_build_room_code="",this.userForm.pui_power_area="",this.userForm.pui_room_position="",this.userForm.pui_room_toward="",this.userForm.pui_room_type="",this.userForm.pui_power_type="",this.userForm.pui_position="",this.userForm.pui_uuid=this.customGlobal.genLogicNo("USER"),this.userForm.flag="1",this.userDialogFormVisible=!0}else this.$alert("请选择楼栋","新增提示!",{confirmButtonText:"确定",callback:function(e){}})}else this.$alert("请选择楼栋","新增提示!",{confirmButtonText:"确定",callback:function(e){}})}else this.$alert("请选择楼栋","新增提示",{dangerouslyUseHTMLString:!0})},handleEditRow:function(e,t){console.log("修改住户"+u()(t)),this.userForm.pui_build_id="",this.getQueryBuilders(t.pui_community_id),this.tableDialgTitle="修改住户 ["+t.pui_realname+"]",this.userForm.pui_realname=t.pui_realname,this.userForm.pui_company_id=t.pui_company_id,this.userForm.pui_child_company_id=t.pui_child_company_id,this.userForm.pui_institute_id=t.pui_institute_id,this.userForm.pui_station_id=t.pui_station_id,this.userForm.pui_community_id=t.pui_community_id,this.userForm.pui_community_name=t.pui_community_name,this.userForm.pui_build_id=t.pui_build_id,this.treeDataOptions=[],"0"!==this.customGlobal.userInfoExt.cui_type?(this.treeDataOptions[0]=this.userForm.pui_company_id,""!==this.userForm.pui_child_company_id&&""!==this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[1]=this.userForm.pui_child_company_id,this.treeDataOptions[2]=this.userForm.pui_institute_id,this.treeDataOptions[3]=this.userForm.pui_station_id):""===this.userForm.pui_child_company_id&&""!==this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[1]=this.userForm.pui_institute_id,this.treeDataOptions[2]=this.userForm.pui_station_id):""!==this.userForm.pui_child_company_id&&""===this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[1]=this.userForm.pui_child_company_id,this.treeDataOptions[2]=this.userForm.pui_station_id):this.treeDataOptions[1]=this.userForm.pui_station_id):(this.treeDataOptions[0]="0",this.treeDataOptions[1]=this.userForm.pui_company_id,""!==this.userForm.pui_child_company_id&&""!==this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[2]=this.userForm.pui_child_company_id,this.treeDataOptions[3]=this.userForm.pui_institute_id,this.treeDataOptions[4]=this.userForm.pui_station_id):""===this.userForm.pui_child_company_id&&""!==this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[2]=this.userForm.pui_institute_id,this.treeDataOptions[3]=this.userForm.pui_station_id):""!==this.userForm.pui_child_company_id&&""===this.userForm.pui_institute_id&&""!==this.userForm.pui_station_id?(this.treeDataOptions[2]=this.userForm.pui_child_company_id,this.treeDataOptions[3]=this.userForm.pui_station_id):this.treeDataOptions[2]=this.userForm.pui_station_id),this.userForm.pui_realname=t.pui_realname,this.userForm.pui_concat_phone=t.pui_concat_phone,this.userForm.pui_power_status=t.pui_power_status,this.userForm.pui_build_layer=t.pui_build_layer,this.userForm.pui_build_unit=t.pui_build_unit,this.userForm.pui_build_room_code=t.pui_build_room_code,this.userForm.pui_power_area=t.pui_power_area,this.userForm.pui_room_position=t.pui_room_position,this.userForm.pui_room_toward=t.pui_room_toward,this.userForm.pui_room_type=t.pui_room_type,this.userForm.pui_power_type=t.pui_power_type,this.userForm.pui_position=t.pui_position,this.userForm.pui_uuid=t.pui_uuid,this.userDialogFormVisible=!0,this.userForm.flag="2"},handleDeleteRow:function(e,t){var i=this;console.log("行号："+e+",行内容："+u()(t)),this.$confirm('请再次确认是否要删除[<span style="color:red;">'+t.pui_realname+"</span>]该行记录?","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then(function(){var e={pui_uuid:t.pui_uuid};i.customGlobal.postHttpClient(i.customGlobal.serverUrl.residentialHousehold_delete,i.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},i.qs.stringify({jsondata:u()(e)})).then(function(e){console.log("异步调用成功返回:"+u()(e)),"success"==e.data.status?(i.$message({type:"success",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<span style="color:black;">基础信息 ['+t.pui_realname+"] 删除成功 </span>"}),i.$refs.multipleTable.clearSelection(),i.reQueryValveCurrentData()):(console.info("删除失败"),i.$alert(e.data.msg,"删除失败",{confirmButtonText:"确定",callback:function(t){console.info("data:"+u()(e.data)),"请登录认证"===e.data.msg&&i.$router.push({path:"/login"})}}))},function(e){console.log("异步调用出错:"+u()(e)),i.$alert(u()(e.message),"删除出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(e){console.log("异步调用失败返回:"+u()(e)),i.$alert(u()(e.message),"删除出错",{confirmButtonText:"确定",callback:function(e){}})})}).catch(function(e){console.log("取消删除:"+u()(e)),i.$message({type:"info",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:"已取消删除"})})},deleteUserArray:function(){var e=this;if(0!=this.multipleSelection.length){for(var t="",i=0;i<this.multipleSelection.length;i++)t+="'"+this.multipleSelection[i].pui_uuid+"',";var o=this.multipleSelection.length;this.$confirm("请再次确认是否要删除已选中的"+o+"位用户?","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,closeOnPressEscape:!1}).then(function(){var i={puiUuids:t.substring(0,t.length-1)},r=e.$loading({lock:!0,text:"删除中...",target:".main",spinner:"el-icon-loading",background:"rgba(255,255, 255, .0)"});e.customGlobal.postHttpClient("fr/residentialHousehold_delete_batch",e.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},e.qs.stringify({jsondata:u()(i)})).then(function(t){"success"==t.data.status?(r.close(),e.$refs.multipleTable.clearSelection(),e.$message({type:"success",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<span style="color:black;">基础信息 ['+o+"] 位用户批量删除成功 </span>"}),e.reQueryValveCurrentData()):(console.info("批量删除失败"),r.close(),e.$alert(t.data.msg,"批量删除失败",{confirmButtonText:"确定",callback:function(i){console.info("data:"+u()(t.data)),"请登录认证"===t.data.msg&&"failed"===t.data.status&&e.$router.replace({path:"/login"})}}))},function(t){console.log("异步调用出错:"+u()(t)),r.close(),e.$alert(u()(t.message),"批量删除出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(t){console.log("异步调用失败返回:"+u()(t)),r.close(),e.$alert(u()(t.message),"批量删除出错",{confirmButtonText:"确定",callback:function(e){}})})}).catch(function(){e.$message({type:"info",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:"已取消批量删除"})})}else this.$alert("您还未选择要删除的用户！","删除提示",{confirmButtonText:"确定",callback:function(e){}})},getQueryQuarters:function(e){var t=this,i={ci_station_id:e};this.customGlobal.postHttpClient(this.customGlobal.serverUrl.residentialQuarters_query_data,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:u()(i)})).then(function(e){console.log("异步调用成功返回:"+u()(e)),"success"==e.data.status?t.queryQuarters=e.data.rows:(console.info("查询小区列表失败"),t.$alert(e.data.msg,"查询小区列表失败",{confirmButtonText:"确定",callback:function(i){console.info("data:"+u()(e.data)),"请登录认证"===e.data.msg&&t.$router.push({path:"/login"})}}))},function(e){console.log("异步调用出错:"+u()(e)),t.$alert(u()(e.message),"查询小区列表出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(e){console.log("异步调用失败返回:"+u()(e)),t.$alert(u()(e.message),"查询小区列表出错",{confirmButtonText:"确定",callback:function(e){}})})},getQueryBuilders:function(e){var t=this,i={bi_community_id:e};this.customGlobal.postHttpClient(this.customGlobal.serverUrl.residentialBuildings_query_data,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:u()(i)})).then(function(e){console.log("异步调用成功返回:"+u()(e)),"success"==e.data.status?t.queryBuilders=e.data.rows:(console.info("查询楼栋列表失败"),t.$alert(e.data.msg,"查询楼栋列表失败",{confirmButtonText:"确定",callback:function(i){console.info("data:"+u()(e.data)),"请登录认证"===e.data.msg&&t.$router.push({path:"/login"})}}))},function(e){console.log("异步调用出错:"+u()(e)),t.$alert(u()(e.message),"查询楼栋列表出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(e){console.log("异步调用失败返回:"+u()(e)),t.$alert(u()(e.message),"查询楼栋列表出错",{confirmButtonText:"确定",callback:function(e){}})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var i=t,o={pui_uuid:i.userForm.pui_uuid,pui_company_id:i.userForm.pui_company_id,pui_child_company_id:i.userForm.pui_child_company_id,pui_institute_id:i.userForm.pui_institute_id,pui_station_id:i.userForm.pui_station_id,pui_community_id:i.userForm.pui_community_id,pui_build_id:i.userForm.pui_build_id,pui_realname:i.userForm.pui_realname,pui_concat_phone:i.userForm.pui_concat_phone,pui_power_status:i.userForm.pui_power_status,pui_build_layer:i.userForm.pui_build_layer,pui_build_unit:i.userForm.pui_build_unit,pui_build_room_code:i.userForm.pui_build_room_code,pui_power_area:i.userForm.pui_power_area,pui_room_position:i.userForm.pui_room_position,pui_room_toward:i.userForm.pui_room_toward,pui_room_type:i.userForm.pui_room_type,pui_power_type:i.userForm.pui_power_type,pui_position:i.userForm.pui_position,flag:i.userForm.flag},r=t.$loading({lock:!0,text:"提交中...",target:".main",spinner:"el-icon-loading",background:"rgba(255,255, 255, .0)"});"1"===i.userForm.flag?(t.customGlobal.postHttpClient(t.customGlobal.serverUrl.residentialHousehold_add,t.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},t.qs.stringify({jsondata:u()(o)})).then(function(e){console.log("异步调用成功返回:"+u()(e)),"success"==e.data.status?(t.userDialogFormVisible=!1,r.close(),t.$message({type:"success",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<span style="color:black;">基础信息 ['+i.userForm.pui_realname+"] 新增成功 </span>"}),t.queryValveCurrentData()):(console.info("新增失败"),r.close(),t.$alert(e.data.msg,"新增失败",{confirmButtonText:"确定",callback:function(i){console.info("data:"+u()(e.data)),"请登录认证"===e.data.msg&&t.$router.push({path:"/login"})}}))},function(e){console.log("异步调用出错:"+u()(e)),r.close(),t.$alert(u()(e.message),"新增出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(e){console.log("异步调用失败返回:"+u()(e)),r.close(),t.$alert(u()(e.message),"新增出错",{confirmButtonText:"确定",callback:function(e){}})}),t.queryValveCurrentData()):(t.customGlobal.postHttpClient(t.customGlobal.serverUrl.residentialHousehold_update,t.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},t.qs.stringify({jsondata:u()(o)})).then(function(e){console.log("异步调用成功返回:"+u()(e)),"success"==e.data.status?(t.userDialogFormVisible=!1,r.close(),t.$message({type:"success",showClose:!0,duration:3e3,dangerouslyUseHTMLString:!0,message:'<span style="color:black;">基础信息 ['+i.userForm.pui_realname+"] 修改成功 </span>"}),t.queryValveCurrentData()):(console.info("修改失败"),r.close(),t.$alert(e.data.msg,"修改失败",{confirmButtonText:"确定",callback:function(i){console.info("data:"+u()(e.data)),"请登录认证"===e.data.msg&&t.$router.push({path:"/login"})}}))},function(e){console.log("异步调用出错:"+u()(e)),r.close(),t.$alert(u()(e.message),"修改出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(e){console.log("异步调用失败返回:"+u()(e)),r.close(),t.$alert(u()(e.message),"修改出错",{confirmButtonText:"确定",callback:function(e){}})}),t.queryValveCurrentData())})},removeTreeNode:function(e,t){var i=e.parent,o=i.data.detail||i.data,r=o.findIndex(function(e){return e.id===t.id});o.splice(r,1)},initTreeDataStatus:function(e,t){var i=t.node,o=t.data;t.store;if("{}"===u()(this.treeDataStatus))return e("span",{style:"font-size:14px;"},[e("span",[o.caption])]);var a=!1,l=!0,n=!1,p=void 0;try{for(var c,d=s()(r()(this.treeDataStatus));!(l=(c=d.next()).done);l=!0){var _=c.value;if(o.id===_)return e("span",[e("span",[o.caption])])}}catch(e){n=!0,p=e}finally{try{!l&&d.return&&d.return()}finally{if(n)throw p}}!1===a&&this.removeTreeNode(i,o)},initOrgTemplateInfo:function(){var e=this,t=this.$loading({lock:!0,text:"查询中...",target:".main",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0)"});this.customGlobal.postHttpClient(this.customGlobal.serverUrl.postQueryOrganTemplate,this.customGlobal.serverUrl.orgBaseURI,{"Content-Type":"application/x-www-form-urlencoded"},this.qs.stringify({jsondata:u()({config:"all",username:this.customGlobal.userInfoExt.cui_login_id})})).then(function(i){console.log("异步调用成功返回:"+u()(i)),"success"==i.data.status?("0"!==e.customGlobal.userInfoExt.cui_type?e.treeData=JSON.parse(i.data.organ).detail:e.treeData=[JSON.parse(i.data.organ)],e.treeDataStatus=JSON.parse(i.data.orgkey),t.close()):(console.info("查询失败"),e.treeData=[JSON.parse(i.data.organ).detail],e.treeDataStatus=JSON.parse(i.data.orgkey),t.close())},function(i){console.log("异步调用出错:"+u()(i)),t.close(),e.$alert(u()(i.message),"查询出错!",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(i){console.log("异步调用失败返回:"+u()(i)),t.close(),e.$alert(u()(i.message),"查询出错",{confirmButtonText:"确定",callback:function(e){}})})}}}),p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"ruleForm2",staticClass:"user-formitem",staticStyle:{"text-align":"left","font-size":"20px","font-weight":"bold"},attrs:{"label-position":"left",model:e.ruleForm,rules:e.rules,"label-width":"130px"},nativeOn:{submit:function(e){e.preventDefault()}}},[i("el-card",{staticClass:"user-card1 user-card2",attrs:{shadow:"always","body-style":e.cardBodyStyle}},[i("div",{staticStyle:{"font-size":"14px","font-weight":"bold"},attrs:{slot:"header"},on:{click:e.confCardBodyHeigth},slot:"header"},[i("el-row",{on:{click:e.confCardBodyHeigth}},[i("el-col",{attrs:{md:23}},[i("el-breadcrumb",{staticStyle:{padding:"5px"},attrs:{"separator-class":"el-icon-arrow-right"}},[e._l(this.tmpCaption,function(t,o){return i("el-breadcrumb-item",{key:o},[e._v(e._s(t))])}),e._v(" "),e._l(this.dataCaptions,function(t,o){return i("el-breadcrumb-item",{key:o+"1"},[e._v(e._s(t))])})],2)],1),e._v(" "),i("el-col",{attrs:{md:1},on:{click:e.confCardBodyHeigth}},[i("el-link",{staticStyle:{float:"right","text-decoration":"none","font-size":"20px",height:"10px","line-height":"10px"},attrs:{icon:e.icon1,underline:!1}})],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.cardBodyHeight,expression:"cardBodyHeight"}]},[i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"住户名称",prop:"pui_realname"}},[i("el-input",{model:{value:e.ruleForm.pui_realname,callback:function(t){e.$set(e.ruleForm,"pui_realname",t)},expression:"ruleForm.pui_realname"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房屋朝向",prop:"pui_room_toward"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.pui_room_toward,callback:function(t){e.$set(e.ruleForm,"pui_room_toward",t)},expression:"ruleForm.pui_room_toward"}},e._l(e.roomTowardoptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房屋坐落位置",prop:"pui_room_position"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.pui_room_position,callback:function(t){e.$set(e.ruleForm,"pui_room_position",t)},expression:"ruleForm.pui_room_position"}},e._l(e.roomPitionoptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房屋类型",prop:"pui_room_type",fixed:""}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",fixed:""},model:{value:e.ruleForm.pui_room_type,callback:function(t){e.$set(e.ruleForm,"pui_room_type",t)},expression:"ruleForm.pui_room_type"}},e._l(e.roomTypeoptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"供热类型",prop:"pui_power_type"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.pui_power_type,callback:function(t){e.$set(e.ruleForm,"pui_power_type",t)},expression:"ruleForm.pui_power_type"}},e._l(e.powerTypeoptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-button",{staticStyle:{float:"right","margin-left":"5px"},attrs:{type:"primary"},on:{click:function(t){return e.clearQuery("ruleForm2")}}},[e._v("清空")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.queryValveCurrentData}},[e._v("查询")])],1)],1)],1)])],1),e._v(" "),i("el-card",[i("div",{staticStyle:{position:"relative"},attrs:{id:"dragbtn"}},[i("div",{directives:[{name:"drag",rawName:"v-drag"}],style:{width:"62px",right:this.floatRightValue,top:this.floatTopValue,"border-radius":"50%",position:"fixed","padding-left":"0px","padding-top":"8px",cursor:"pointer","z-index":"888"},attrs:{draggable:"false"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.ballShow,expression:"ballShow"}],style:{display:"flex","justify-content":"space-between",position:"absolute",left:this.menuLeft,width:this.menuWidth,top:" 10px"},attrs:{id:"buttonMenuUser"}},[i("div",{staticStyle:{float:"right","margin-right":"20px"}},[i("el-dropdown",{attrs:{"hide-on-click":!1,_style:"float:right;margin-right: 20px;"}},[i("el-button",{attrs:{type:"primary",size:"small",title:"显示隐藏列"}},[i("i",{staticClass:"el-icon-s-grid "},[e._v("动态列")])]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-scrollbar",{staticStyle:{height:"40vh",width:"150px"}},[i("el-checkbox-group",{model:{value:e.colsChecked,callback:function(t){e.colsChecked=t},expression:"colsChecked"}},e._l(e.colsMap,function(t){return i("el-dropdown-item",{key:t.value},[i("el-checkbox",{key:t.value,attrs:{disabled:t.disabled,label:t.value},on:{change:e.colCheckCommand}},[e._v(e._s(t.caption))])],1)}),1)],1)],1)],1)],1),e._v(" "),i("div",{staticStyle:{float:"right","margin-right":"20px"}},[i("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleAddRow()}}},[i("i",{staticClass:"el-icon-document-add"},[e._v("新增")])])],1),e._v(" "),i("div",{staticStyle:{float:"right","margin-right":"20px"}},[i("el-button",{attrs:{type:"danger",size:"small",title:"批量删除"},on:{click:e.deleteUserArray}},[i("i",{staticClass:"el-icon-delete "},[e._v("批量删除")])])],1)]),e._v(" "),i("el-tooltip",{attrs:{content:"展开与隐藏功能按钮",placement:"top"}},[i("el-button",{directives:[{name:"trigger",rawName:"v-trigger"}],ref:"ballBtn",class:[!0===e.ballShow?"fadeIn":"fadeOut"],attrs:{id:"ballBtn",type:"primary",icon:this.ballIcon,circle:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.openBox(t)}}})],1)],1)]),e._v(" "),i("el-table",{ref:"multipleTable",staticClass:"new-table-fixed-right new-table-fixed",attrs:{border:"",data:e.tableData,"tooltip-effect":"dark","row-style":{height:"10px"},"cell-style":{padding:"5px 0px"},"row-key":e.getRowKeys,"header-cell-style":{background:"#4B86BC",color:"#ffffff",borderRight:"1px solid #E3E5EB",padding:"0px",height:"45px","line-height":"45px"}},on:{"sort-change":e.sortColumn,"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",selectable:e.isSelect,width:"55","reserve-selection":!0}}),e._v(" "),e.colsMap[0].isShow?i("el-table-column",{attrs:{fixed:"",prop:"pui_realname",label:"住户姓名",align:"center","show-overflow-tooltip":"",width:"150"}}):e._e(),e._v(" "),e.colsMap[1].isShow?i("el-table-column",{attrs:{prop:"pui_community_name",label:"小区名称",align:"center","show-overflow-tooltip":"",width:"150"}}):e._e(),e._v(" "),e.colsMap[2].isShow?i("el-table-column",{attrs:{prop:"pui_build_name",label:"楼栋名称",align:"center","show-overflow-tooltip":"",width:"100"}}):e._e(),e._v(" "),e.colsMap[3].isShow?i("el-table-column",{attrs:{prop:"pui_concat_phone",label:"住户电话",align:"center","show-overflow-tooltip":"",width:"120"}}):e._e(),e._v(" "),e.colsMap[4].isShow?i("el-table-column",{attrs:{prop:"pui_build_layer",label:"所属楼层",align:"center","show-overflow-tooltip":"",width:"80"}}):e._e(),e._v(" "),e.colsMap[5].isShow?i("el-table-column",{attrs:{prop:"pui_build_unit",label:"所属单元",align:"center","show-overflow-tooltip":"",width:"100"}}):e._e(),e._v(" "),e.colsMap[6].isShow?i("el-table-column",{attrs:{prop:"pui_build_room_code",label:"房间号",align:"center","show-overflow-tooltip":"",width:"80"}}):e._e(),e._v(" "),e.colsMap[7].isShow?i("el-table-column",{attrs:{prop:"pui_power_area",label:"建筑面积",align:"center","show-overflow-tooltip":"",width:"80"}}):e._e(),e._v(" "),e.colsMap[8].isShow?i("el-table-column",{attrs:{prop:"pui_power_status",label:"是否供暖",align:"center","show-overflow-tooltip":"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.pui_power_status?i("el-tag",{attrs:{type:"danger",effect:"dark",size:"mini"}},[e._v("停暖")]):e._e(),e._v(" "),"1"===t.row.pui_power_status?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("供暖")]):e._e()]}}],null,!1,1195534670)}):e._e(),e._v(" "),e.colsMap[9].isShow?i("el-table-column",{attrs:{prop:"pui_room_position",label:"房屋位置",align:"center","show-overflow-tooltip":"",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.pui_room_position?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("不区分")]):e._e(),e._v(" "),"1"===t.row.pui_room_position?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("靠顶")]):e._e(),e._v(" "),"2"===t.row.pui_room_position?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("把山")]):e._e(),e._v(" "),"3"===t.row.pui_room_position?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("靠底")]):e._e(),e._v(" "),"4"===t.row.pui_room_position?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("中间")]):e._e(),e._v(" "),"5"===t.row.pui_room_position?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("把山+靠顶")]):e._e(),e._v(" "),"6"===t.row.pui_room_position?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("把山+靠底")]):e._e()]}}],null,!1,2054805383)}):e._e(),e._v(" "),e.colsMap[10].isShow?i("el-table-column",{attrs:{prop:"pui_room_toward",label:"房屋朝向",align:"center","show-overflow-tooltip":"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.pui_room_toward?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("南")]):e._e(),e._v(" "),"2"===t.row.pui_room_toward?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("北")]):e._e(),e._v(" "),"3"===t.row.pui_room_toward?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("西")]):e._e(),e._v(" "),"4"===t.row.pui_room_toward?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("东")]):e._e()]}}],null,!1,173876471)}):e._e(),e._v(" "),e.colsMap[11].isShow?i("el-table-column",{attrs:{prop:"pui_room_type",label:"房屋类型",align:"center","show-overflow-tooltip":"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.pui_room_type?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("住宅")]):e._e(),e._v(" "),"2"===t.row.pui_room_type?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("网点")]):e._e(),e._v(" "),"3"===t.row.pui_room_type?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("民宅散户")]):e._e(),e._v(" "),"4"===t.row.pui_room_type?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("车库")]):e._e(),e._v(" "),"5"===t.row.pui_room_type?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("办公学校")]):e._e()]}}],null,!1,2380376369)}):e._e(),e._v(" "),e.colsMap[12].isShow?i("el-table-column",{attrs:{prop:"pui_power_type",label:"供热类型",align:"center","show-overflow-tooltip":"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.pui_power_type?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("散热片")]):e._e(),e._v(" "),"1"===t.row.pui_power_type?i("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[e._v("地热")]):e._e()]}}],null,!1,1666593797)}):e._e(),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:"00-0"!==t.row.uuid&&"00-1"!==t.row.uuid,expression:"scope.row.uuid!=='00-0' && scope.row.uuid!=='00-1'"}],attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},nativeOn:{click:function(i){return i.stopPropagation(),e.handleEditRow(t.$index,t.row)}}})],1),e._v(" "),i("el-tooltip",{attrs:{content:"删除",placement:"top"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:"00-0"!==t.row.uuid&&"00-1"!==t.row.uuid,expression:"scope.row.uuid!=='00-0' && scope.row.uuid!=='00-1'"}],attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},nativeOn:{click:function(i){return i.stopPropagation(),e.handleDeleteRow(t.$index,t.row)}}})],1)]}}])})],1)],1),e._v(" "),i("el-pagination",{attrs:{background:"","current-page":e.queryParam.currentPage,"page-sizes":[10,20,50,100,200],"page-size":e.queryParam.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryParam.totalRow},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-dialog",{attrs:{visible:e.userDialogFormVisible,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.userDialogFormVisible=t}}},[i("div",{staticStyle:{"text-align":"left","font-size":"20px","font-weight":"bold"},attrs:{slot:"title"},slot:"title"},[i("span",[e._v(e._s(this.tableDialgTitle))])]),e._v(" "),i("el-form",{ref:"userForm",staticClass:"user-formitem",staticStyle:{"text-align":"left","font-size":"20px","font-weight":"bold"},attrs:{"label-position":"left",model:e.userForm,rules:e.userFormRules,"label-width":"130px"}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:24}},[i("el-form-item",{attrs:{label:"所属组织机构",prop:"pui_company_name",rules:this.userFormRules.pui_company_name}},[e.showTree?i("el-tree",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"org_tree",attrs:{data:e.treeData,"node-key":"id","highlight-current":"",props:{children:"detail",label:"caption"},"render-content":e.initTreeDataStatus}}):e._e(),e._v(" "),i("el-cascader",{attrs:{id:"el-cascader",options:e.treeData,props:{children:"detail",label:"caption",value:"id",checkStrictly:!0,expandTrigger:"hover"},disabled:"",clearable:"",filterable:""},on:{change:e.handleChangeQy},model:{value:e.treeDataOptions,callback:function(t){e.treeDataOptions=t},expression:"treeDataOptions"}})],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"所属小区",prop:"pui_community_id"}},[i("el-input",{staticClass:"el-input",attrs:{disabled:""},model:{value:e.userForm.pui_community_name,callback:function(t){e.$set(e.userForm,"pui_community_name",t)},expression:"userForm.pui_community_name"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"所属楼栋",prop:"pui_build_id"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",disabled:!0},model:{value:e.userForm.pui_build_id,callback:function(t){e.$set(e.userForm,"pui_build_id",t)},expression:"userForm.pui_build_id"}},e._l(e.queryBuilders,function(e){return i("el-option",{key:e.bi_uuid,attrs:{label:e.bi_build_name,value:e.bi_uuid}})}),1)],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"住户名称",prop:"pui_realname",rules:this.userFormRules.pui_realname}},[i("el-input",{staticClass:"el-input",model:{value:e.userForm.pui_realname,callback:function(t){e.$set(e.userForm,"pui_realname",t)},expression:"userForm.pui_realname"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"住户电话",prop:"pui_concat_phone",rules:this.userFormRules.pui_concat_phone}},[i("el-input",{model:{value:e.userForm.pui_concat_phone,callback:function(t){e.$set(e.userForm,"pui_concat_phone",t)},expression:"userForm.pui_concat_phone"}})],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房间号",prop:"pui_build_room_code",rules:this.userFormRules.pui_build_room_code}},[i("el-input",{model:{value:e.userForm.pui_build_room_code,callback:function(t){e.$set(e.userForm,"pui_build_room_code",t)},expression:"userForm.pui_build_room_code"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"所属楼层",prop:"pui_build_layer",rules:this.userFormRules.pui_build_layer}},[i("el-input",{model:{value:e.userForm.pui_build_layer,callback:function(t){e.$set(e.userForm,"pui_build_layer",t)},expression:"userForm.pui_build_layer"}})],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"所属单元",prop:"pui_build_unit",rules:this.userFormRules.pui_build_unit}},[i("el-input",{model:{value:e.userForm.pui_build_unit,callback:function(t){e.$set(e.userForm,"pui_build_unit",t)},expression:"userForm.pui_build_unit"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房屋建筑面积",prop:"pui_power_area",rules:this.userFormRules.pui_power_area}},[i("el-input",{model:{value:e.userForm.pui_power_area,callback:function(t){e.$set(e.userForm,"pui_power_area",t)},expression:"userForm.pui_power_area"}})],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房屋落位",prop:"pui_position",rules:this.userFormRules.pui_position}},[i("el-input",{model:{value:e.userForm.pui_position,callback:function(t){e.$set(e.userForm,"pui_position",t)},expression:"userForm.pui_position"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"是否供暖",prop:"pui_power_status",rules:this.userFormRules.pui_power_status}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.pui_power_status,callback:function(t){e.$set(e.userForm,"pui_power_status",t)},expression:"userForm.pui_power_status"}},e._l(e.powerStatusoptionsDialog,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房屋位置",prop:"pui_room_position",rules:this.userFormRules.pui_room_position}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.pui_room_position,callback:function(t){e.$set(e.userForm,"pui_room_position",t)},expression:"userForm.pui_room_position"}},e._l(e.roomPitionoptionsDialog,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房屋朝向",prop:"pui_room_toward",rules:this.userFormRules.pui_room_toward}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.pui_room_toward,callback:function(t){e.$set(e.userForm,"pui_room_toward",t)},expression:"userForm.pui_room_toward"}},e._l(e.roomTowardoptionsDialog,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"房屋类型",prop:"pui_room_type",rules:this.userFormRules.pui_room_type}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.pui_room_type,callback:function(t){e.$set(e.userForm,"pui_room_type",t)},expression:"userForm.pui_room_type"}},e._l(e.roomTypeoptionsDialog,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:"供热类型",prop:"pui_power_type",rules:this.userFormRules.pui_power_type}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.pui_power_type,callback:function(t){e.$set(e.userForm,"pui_power_type",t)},expression:"userForm.pui_power_type"}},e._l(e.powerTypeoptionsDialog,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){return e.resetForm("userForm")}}},[e._v("重 置")]),e._v(" "),i("el-button",{on:{click:function(t){return e.cancelForm("userForm")}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(n,p,!1,function(e){i("kf5t")},"data-v-06296dc5",null);t.default=c.exports},kf5t:function(e,t){}});
//# sourceMappingURL=78.7ecf5cc7010bdcab7fbd.js.map